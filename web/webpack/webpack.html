<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.37" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://soft-vault.com/web/webpack/webpack.html"><meta property="og:site_name" content="Night.Soul"><meta property="og:title" content="ğŸª¤ Webpack"><meta property="og:description" content="é«˜çº§ç¯‡ 7.9 åŸºç¡€ç¯‡ 1. Why? ä¸ºä»€ä¹ˆéœ€è¦ webpack é—®é¢˜ ä½œç”¨äºé—®é¢˜ GRUNT IIFE ä»£ç æ‹†åˆ†é—®é¢˜ - nodejs æä¾› JavaScript è¿è¡Œç¯å¢ƒ æ¨¡å—åŒ– COMMION JS -> module.exports = {} -> require ä¸Šè¿°ä»£ç æ˜¯ nodejs ä»£ç ,æ— æ³•åœ¨æµè§ˆå™¨è¿è¡Œ å¦‚ä½•åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨? ECM..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-03-02T15:02:26.000Z"><meta property="article:author" content="Night.Soul"><meta property="article:tag" content="Webpack"><meta property="article:modified_time" content="2024-03-02T15:02:26.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ğŸª¤ Webpack","image":[""],"dateModified":"2024-03-02T15:02:26.000Z","author":[{"@type":"Person","name":"Night.Soul","url":"https://github.com/NightSquirrl"}]}</script><title>ğŸª¤ Webpack | Night.Soul</title><meta name="description" content="é«˜çº§ç¯‡ 7.9 åŸºç¡€ç¯‡ 1. Why? ä¸ºä»€ä¹ˆéœ€è¦ webpack é—®é¢˜ ä½œç”¨äºé—®é¢˜ GRUNT IIFE ä»£ç æ‹†åˆ†é—®é¢˜ - nodejs æä¾› JavaScript è¿è¡Œç¯å¢ƒ æ¨¡å—åŒ– COMMION JS -> module.exports = {} -> require ä¸Šè¿°ä»£ç æ˜¯ nodejs ä»£ç ,æ— æ³•åœ¨æµè§ˆå™¨è¿è¡Œ å¦‚ä½•åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨? ECM...">
    <link rel="preload" href="/assets/style-L2xOcyZ2.css" as="style"><link rel="stylesheet" href="/assets/style-L2xOcyZ2.css">
    <link rel="modulepreload" href="/assets/app-jzX7c5DY.js"><link rel="modulepreload" href="/assets/webpack.html-Dgy6zjYT.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-B5Nndg1W.js" as="script"><link rel="prefetch" href="/assets/Javascript.html-CPU3RuiV.js" as="script"><link rel="prefetch" href="/assets/Vue.html-BFMcMZbB.js" as="script"><link rel="prefetch" href="/assets/react.html-g8lNbt91.js" as="script"><link rel="prefetch" href="/assets/typescript.html-_rB9C9WZ.js" as="script"><link rel="prefetch" href="/assets/basic-use-of-drawing-bed.html-zCHSYhSj.js" as="script"><link rel="prefetch" href="/assets/serverInitializationUsage.html-fWDMjTSl.js" as="script"><link rel="prefetch" href="/assets/1-IntroductionToFundamentals.html-W4WrkME3.js" as="script"><link rel="prefetch" href="/assets/10-String.html-C6kdoikw.js" as="script"><link rel="prefetch" href="/assets/11-SetArrayList.html-BCH15ki2.js" as="script"><link rel="prefetch" href="/assets/12-ObjectOrientedAdvancement(StaticInheritance).html-bvnEsP-H.js" as="script"><link rel="prefetch" href="/assets/13-AdvancedObjectOriented(Polymorphic).html-CKNouqPR.js" as="script"><link rel="prefetch" href="/assets/14-AdvancedObjectOriented(Interface).html-DqA3QNHM.js" as="script"><link rel="prefetch" href="/assets/15-ObjectOriented(ComprehensiveExercise1).html-e2Fnbkyd.js" as="script"><link rel="prefetch" href="/assets/16-ObjectOriented(ComprehensiveExercise2).html-DOo02Z_r.js" as="script"><link rel="prefetch" href="/assets/17-CommonAPIs.html-HuybVYsU.js" as="script"><link rel="prefetch" href="/assets/18-RegularExpressions.html-4w9wAAOd.js" as="script"><link rel="prefetch" href="/assets/19-CommonAPIs(TimePackaging).html-D5z2lNQz.js" as="script"><link rel="prefetch" href="/assets/2-JavaBasicGrammar.html-C_ftORUt.js" as="script"><link rel="prefetch" href="/assets/20-Algorithm.html-0b3cdN1x.js" as="script"><link rel="prefetch" href="/assets/21-Set01.html-BQQCncfO.js" as="script"><link rel="prefetch" href="/assets/22-Set02.html-DTRp8vMi.js" as="script"><link rel="prefetch" href="/assets/23-Set03.html-D5NIaDv2.js" as="script"><link rel="prefetch" href="/assets/24-ThirdStageSynthesis(LandlordGame).html-CWrpIsIl.js" as="script"><link rel="prefetch" href="/assets/25-StreamFlowAndMethodReferences.html-B2qlwoXF.js" as="script"><link rel="prefetch" href="/assets/26- IOStream(ByteStream_CharacterStream).html-cuG0y-2C.js" as="script"><link rel="prefetch" href="/assets/27-IOStream(OtherStreams).html-dF39fEZa.js" as="script"><link rel="prefetch" href="/assets/28-MultiThreading01.html-Ck_4W5uD.js" as="script"><link rel="prefetch" href="/assets/29-MultiThreading02.html-BLodAITM.js" as="script"><link rel="prefetch" href="/assets/3-Operator.html-DeUCUgJm.js" as="script"><link rel="prefetch" href="/assets/30-NetworkProgramming.html-GyUH3Abi.js" as="script"><link rel="prefetch" href="/assets/31-ReflectionDynamicProxy.html-cr-xngIT.js" as="script"><link rel="prefetch" href="/assets/32-IO(Exception_File_ComprehensiveCase).html-CT4IHjSy.js" as="script"><link rel="prefetch" href="/assets/4-FlowControlStatement.html-BnMgLjdB.js" as="script"><link rel="prefetch" href="/assets/5-Array.html-BVHFaDwb.js" as="script"><link rel="prefetch" href="/assets/6-Function.html-DfjzYrXb.js" as="script"><link rel="prefetch" href="/assets/7-Phase-1-ComprehensiveExercise.html-xkQuKu7g.js" as="script"><link rel="prefetch" href="/assets/8-ObjectOriented.html-DgrncCef.js" as="script"><link rel="prefetch" href="/assets/9-Phase-2-ObjectOrientedPractice.html-CwrM17-A.js" as="script"><link rel="prefetch" href="/assets/JavaSummarize.html-CMh2Knru.js" as="script"><link rel="prefetch" href="/assets/1-Maven.html-CyqJKgpl.js" as="script"><link rel="prefetch" href="/assets/10-mybatis-plus.html-D3H5H9r7.js" as="script"><link rel="prefetch" href="/assets/11-redis.html-C8In_dPx.js" as="script"><link rel="prefetch" href="/assets/12-Spring.html-Be1fdqxm.js" as="script"><link rel="prefetch" href="/assets/2-SpringBootBasis.html-CgRCz9A8.js" as="script"><link rel="prefetch" href="/assets/3-SpringBootWebRequestResponse.html-BubOMOIH.js" as="script"><link rel="prefetch" href="/assets/4-MybatisIntroduction.html-DT0l2mT5.js" as="script"><link rel="prefetch" href="/assets/5-MybatisUse.html-fXXhvn2Y.js" as="script"><link rel="prefetch" href="/assets/6-JWT.html-BV-_SruT.js" as="script"><link rel="prefetch" href="/assets/7-AOP.html-Cr7GHvFh.js" as="script"><link rel="prefetch" href="/assets/8-Swagger.html-Cq86NdJ0.js" as="script"><link rel="prefetch" href="/assets/9-cross-domain.html-DvV7Ivik.js" as="script"><link rel="prefetch" href="/assets/Collection.html-C8XaN4lo.js" as="script"><link rel="prefetch" href="/assets/index.html-CdV-3M9Q.js" as="script"><link rel="prefetch" href="/assets/index.html-DgNMapSV.js" as="script"><link rel="prefetch" href="/assets/collect.html-B2LSFu00.js" as="script"><link rel="prefetch" href="/assets/commonCommands.html-D27xLF7v.js" as="script"><link rel="prefetch" href="/assets/1-install.html-Du3As5FL.js" as="script"><link rel="prefetch" href="/assets/2-database-concept.html-C_Dvh_HD.js" as="script"><link rel="prefetch" href="/assets/3-SQL-statement.html-BYCGE9PE.js" as="script"><link rel="prefetch" href="/assets/4-advanced-database.html-j9bw1Exc.js" as="script"><link rel="prefetch" href="/assets/nodeVersionControl.html-CJhprndN.js" as="script"><link rel="prefetch" href="/assets/terminal.html-CE8kWwAl.js" as="script"><link rel="prefetch" href="/assets/index.html-CZFAIGlc.js" as="script"><link rel="prefetch" href="/assets/index.html-CY1q-cVd.js" as="script"><link rel="prefetch" href="/assets/index.html-CZrQBmIm.js" as="script"><link rel="prefetch" href="/assets/Arguments.html-oXPzFgNW.js" as="script"><link rel="prefetch" href="/assets/apply-bind-call.html-B-yCoy_B.js" as="script"><link rel="prefetch" href="/assets/index.html-CarEzAZB.js" as="script"><link rel="prefetch" href="/assets/Array.html-CL1sPW_v.js" as="script"><link rel="prefetch" href="/assets/WaterfallFlow.html-BOKYs2cN.js" as="script"><link rel="prefetch" href="/assets/antiVibrationThrottling.html-DEzL7dKl.js" as="script"><link rel="prefetch" href="/assets/designPattern.html-BMq8Gbje.js" as="script"><link rel="prefetch" href="/assets/index.html-DTa6OOlw.js" as="script"><link rel="prefetch" href="/assets/npm-packages.html-BkyczlKS.js" as="script"><link rel="prefetch" href="/assets/rollup.html-C7s3HBmQ.js" as="script"><link rel="prefetch" href="/assets/grid.html-DDIsSQu9.js" as="script"><link rel="prefetch" href="/assets/1-projectEngineeringStructure.html-Bf9TjHMY.js" as="script"><link rel="prefetch" href="/assets/2-components.html-f1lHPt1h.js" as="script"><link rel="prefetch" href="/assets/3-customComponents.html-BL0xIYw_.js" as="script"><link rel="prefetch" href="/assets/4-stateManagement.html-CsJQobOy.js" as="script"><link rel="prefetch" href="/assets/5-router.html-C8fxkvKG.js" as="script"><link rel="prefetch" href="/assets/6-pageAnimation.html-B800yt17.js" as="script"><link rel="prefetch" href="/assets/7-lifeCycle.html-BZ7FS2Bw.js" as="script"><link rel="prefetch" href="/assets/8-networkRequest.html-D-BriONL.js" as="script"><link rel="prefetch" href="/assets/9-dataPersistence.html-C2n1-oJH.js" as="script"><link rel="prefetch" href="/assets/1-vue-router.html-JoYvxucs.js" as="script"><link rel="prefetch" href="/assets/2-vue-vuex-pinia.html-CnPFzUC5.js" as="script"><link rel="prefetch" href="/assets/3-communication-mode.html-sS7TYJ6l.js" as="script"><link rel="prefetch" href="/assets/4-vue-jsx.html-T3DWGkCL.js" as="script"><link rel="prefetch" href="/assets/XMLHttpRequest.html-DdAkwIAl.js" as="script"><link rel="prefetch" href="/assets/websocket.html-D-5-OCnT.js" as="script"><link rel="prefetch" href="/assets/Gulp.html-BGvMr9GS.js" as="script"><link rel="prefetch" href="/assets/UniversalJs.html-DEqmoYNx.js" as="script"><link rel="prefetch" href="/assets/frontend-performance-optimization.html-YmPS-BL3.js" as="script"><link rel="prefetch" href="/assets/general-SEO-optimization-plan.html-BH2cpuys.js" as="script"><link rel="prefetch" href="/assets/axios-shortcut.html-CrCUAIjN.js" as="script"><link rel="prefetch" href="/assets/regular-expression.html-D7X7_jre.js" as="script"><link rel="prefetch" href="/assets/cookie.html-fWliofuG.js" as="script"><link rel="prefetch" href="/assets/1-quick-get-start.html-DZEHj2Nh.js" as="script"><link rel="prefetch" href="/assets/2-shadow.html-D3uhKDDS.js" as="script"><link rel="prefetch" href="/assets/1-basic-concepts.html-DV8Enw8A.js" as="script"><link rel="prefetch" href="/assets/3-advanced-expand.html-Cq0G95XX.js" as="script"><link rel="prefetch" href="/assets/1-quick-get-start.html-BGwoN9Bd.js" as="script"><link rel="prefetch" href="/assets/algorithm.html-B5mQU3ox.js" as="script"><link rel="prefetch" href="/assets/web-learn.html-DRlnUJtG.js" as="script"><link rel="prefetch" href="/assets/web-worker.html-Bm1CLke-.js" as="script"><link rel="prefetch" href="/assets/Webpack_React.html-dRzQrfbw.js" as="script"><link rel="prefetch" href="/assets/index.html-5c2RiPaI.js" as="script"><link rel="prefetch" href="/assets/ant-unocss-ts-vite-react.html-Bq2WrYT2.js" as="script"><link rel="prefetch" href="/assets/404.html-CUqixs9-.js" as="script"><link rel="prefetch" href="/assets/index.html-K2yuU0Oz.js" as="script"><link rel="prefetch" href="/assets/index.html-B2htEv2k.js" as="script"><link rel="prefetch" href="/assets/index.html-BtAKN6pH.js" as="script"><link rel="prefetch" href="/assets/index.html-CWzV_z-y.js" as="script"><link rel="prefetch" href="/assets/index.html-Df5viEav.js" as="script"><link rel="prefetch" href="/assets/index.html-CGErj1tv.js" as="script"><link rel="prefetch" href="/assets/index.html-D2U3vn23.js" as="script"><link rel="prefetch" href="/assets/index.html-CdfbFedA.js" as="script"><link rel="prefetch" href="/assets/index.html-B7_Q_UIj.js" as="script"><link rel="prefetch" href="/assets/index.html-C0g-BeGY.js" as="script"><link rel="prefetch" href="/assets/index.html-BFrOmlSO.js" as="script"><link rel="prefetch" href="/assets/index.html-DmESZ_T8.js" as="script"><link rel="prefetch" href="/assets/index.html-Haa23vIu.js" as="script"><link rel="prefetch" href="/assets/index.html-C_ebE2O4.js" as="script"><link rel="prefetch" href="/assets/index.html-CkgOiUue.js" as="script"><link rel="prefetch" href="/assets/index.html-CmfquO4u.js" as="script"><link rel="prefetch" href="/assets/index.html-C-LWd00b.js" as="script"><link rel="prefetch" href="/assets/index.html-CTmpBsbt.js" as="script"><link rel="prefetch" href="/assets/index.html-DBaLlYEI.js" as="script"><link rel="prefetch" href="/assets/index.html-15fXpozU.js" as="script"><link rel="prefetch" href="/assets/index.html-BqE5KLIv.js" as="script"><link rel="prefetch" href="/assets/index.html-DxW56G-m.js" as="script"><link rel="prefetch" href="/assets/index.html-Cu1fltEy.js" as="script"><link rel="prefetch" href="/assets/index.html-B7ohcpqq.js" as="script"><link rel="prefetch" href="/assets/index.html-GdL_iNpQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CXHpwXyS.js" as="script"><link rel="prefetch" href="/assets/index.html-BfTe9RlO.js" as="script"><link rel="prefetch" href="/assets/index.html-7GfgDiLi.js" as="script"><link rel="prefetch" href="/assets/index.html-BIh5zmY0.js" as="script"><link rel="prefetch" href="/assets/index.html-DGS0MqZn.js" as="script"><link rel="prefetch" href="/assets/index.html-CiSkbp3t.js" as="script"><link rel="prefetch" href="/assets/index.html-Dc6uG3dX.js" as="script"><link rel="prefetch" href="/assets/index.html-BhBcvha3.js" as="script"><link rel="prefetch" href="/assets/index.html-B4bdbZQ0.js" as="script"><link rel="prefetch" href="/assets/index.html-CYL8cOk4.js" as="script"><link rel="prefetch" href="/assets/index.html-Mxe8Co8H.js" as="script"><link rel="prefetch" href="/assets/index.html-DI0Dcpgw.js" as="script"><link rel="prefetch" href="/assets/index.html-CBGB-es6.js" as="script"><link rel="prefetch" href="/assets/index.html-Djet4x0A.js" as="script"><link rel="prefetch" href="/assets/index.html-DMM8iACR.js" as="script"><link rel="prefetch" href="/assets/index.html-DWJQNdHi.js" as="script"><link rel="prefetch" href="/assets/index.html-BReAgTcA.js" as="script"><link rel="prefetch" href="/assets/index.html-BEjUWgv6.js" as="script"><link rel="prefetch" href="/assets/index.html-B1ImENeb.js" as="script"><link rel="prefetch" href="/assets/index.html-DAKTR_Mq.js" as="script"><link rel="prefetch" href="/assets/index.html-Ct015CSR.js" as="script"><link rel="prefetch" href="/assets/index.html-DMFQYLEi.js" as="script"><link rel="prefetch" href="/assets/index.html-D0SYP72K.js" as="script"><link rel="prefetch" href="/assets/index.html-Bxf7ygFV.js" as="script"><link rel="prefetch" href="/assets/index.html-CuBLNI61.js" as="script"><link rel="prefetch" href="/assets/index.html-CVRsHd4m.js" as="script"><link rel="prefetch" href="/assets/index.html-Do6Qu0VK.js" as="script"><link rel="prefetch" href="/assets/index.html-CENi6FGL.js" as="script"><link rel="prefetch" href="/assets/index.html-BQ3fXocS.js" as="script"><link rel="prefetch" href="/assets/index.html-C8hwAdIa.js" as="script"><link rel="prefetch" href="/assets/index.html-DuUl6yKz.js" as="script"><link rel="prefetch" href="/assets/index.html-CZdEARyd.js" as="script"><link rel="prefetch" href="/assets/index.html-BItXQj-j.js" as="script"><link rel="prefetch" href="/assets/index.html-DS9pFLNk.js" as="script"><link rel="prefetch" href="/assets/index.html-Bl9O3fsu.js" as="script"><link rel="prefetch" href="/assets/index.html-DpeZu3qk.js" as="script"><link rel="prefetch" href="/assets/index.html-0dS01sr4.js" as="script"><link rel="prefetch" href="/assets/index.html-C8ALuInB.js" as="script"><link rel="prefetch" href="/assets/index.html-D9P-9HuP.js" as="script"><link rel="prefetch" href="/assets/index.html-lhBECJ6C.js" as="script"><link rel="prefetch" href="/assets/index.html-C6SYLGb-.js" as="script"><link rel="prefetch" href="/assets/index.html-puxPGhU_.js" as="script"><link rel="prefetch" href="/assets/index.html-BlMYNqIX.js" as="script"><link rel="prefetch" href="/assets/index.html-C4AVYk93.js" as="script"><link rel="prefetch" href="/assets/index.html-B1b2aWRA.js" as="script"><link rel="prefetch" href="/assets/index.html-aL1Ry-3j.js" as="script"><link rel="prefetch" href="/assets/index.html-YddYUS_c.js" as="script"><link rel="prefetch" href="/assets/index.html-D691tnrk.js" as="script"><link rel="prefetch" href="/assets/index.html-CkM2FDIN.js" as="script"><link rel="prefetch" href="/assets/index.html-BZZZGvWV.js" as="script"><link rel="prefetch" href="/assets/index.html-D0HMuzly.js" as="script"><link rel="prefetch" href="/assets/index.html-B8AcYAsK.js" as="script"><link rel="prefetch" href="/assets/index.html-M66fCDHR.js" as="script"><link rel="prefetch" href="/assets/index.html-NVFzcjOq.js" as="script"><link rel="prefetch" href="/assets/index.html-MHq5x4CU.js" as="script"><link rel="prefetch" href="/assets/index.html-D3ooWbSB.js" as="script"><link rel="prefetch" href="/assets/index.html-B4bdbZQ0.js" as="script"><link rel="prefetch" href="/assets/index.html-BRfuWjOS.js" as="script"><link rel="prefetch" href="/assets/index.html-DJiJzX7N.js" as="script"><link rel="prefetch" href="/assets/index.html-Cy7I-S2Y.js" as="script"><link rel="prefetch" href="/assets/index.html-DpvLsWo9.js" as="script"><link rel="prefetch" href="/assets/index.html-DiRQh6gf.js" as="script"><link rel="prefetch" href="/assets/index.html-CMTLEfeS.js" as="script"><link rel="prefetch" href="/assets/index.html-qi8fWPv-.js" as="script"><link rel="prefetch" href="/assets/index.html-B8_kqpVi.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script"><link rel="prefetch" href="/assets/giscus--_FS5kYt.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="https://img.picgo.net/2024/02/05/logocffd7abf34977d0b.png" alt><!----><span class="vp-site-name hide-in-pad">Night.Soul</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="å›åˆ°ä¸»é¡µ"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>å›åˆ°ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link active" href="/web/" aria-label="å‰ç«¯"><span class="font-icon icon fa-fw fa-sm fas fa-dragon" style=""></span>å‰ç«¯<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/rear-end/" aria-label="åç«¯"><span class="font-icon icon fa-fw fa-sm fas fa-book-skull" style=""></span>åç«¯<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/server/" aria-label="è¿ç»´"><span class="font-icon icon fa-fw fa-sm fas fa-chess-board" style=""></span>è¿ç»´<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="web"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>web</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Vue</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/Vueæ–‡æ¡£/" aria-label="Vue æ–‡æ¡£"><!---->Vue æ–‡æ¡£<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/Vue/vue-vuex-pinia.html" aria-label="Vuex"><!---->Vuex<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/Vue/vue-router.html" aria-label="vue-router"><!---->vue-router<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>React</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/react/code-init/ant-unocss-ts-vite-react.html" aria-label="é¡¹ç›®åˆå§‹åŒ–"><!---->é¡¹ç›®åˆå§‹åŒ–<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>PDF</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/PDF/pdfjs/" aria-label="PDFJS"><!---->PDFJS<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>äºŒç»´ç  é¡¹ç›®</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/QrCode/" aria-label="é¡¹ç›®æ‰‹å†Œ"><!---->é¡¹ç›®æ‰‹å†Œ<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ThreeJS</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/threeJs/1-quick-get-start.html" aria-label="å¿«é€Ÿå…¥é—¨"><!---->å¿«é€Ÿå…¥é—¨<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/threeJs/2-shadow.html" aria-label="å…‰å½±"><!---->å…‰å½±<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>uni-app</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/uni-app/1-quick-get-start.html" aria-label="å¿«é€Ÿå…¥é—¨"><!---->å¿«é€Ÿå…¥é—¨<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>webpack</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link active" href="/web/webpack/" aria-label="å¿«é€Ÿå…¥é—¨"><!---->å¿«é€Ÿå…¥é—¨<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/web/webpack/Webpack_React.html" aria-label="æ‰‹åŠ¨æ­å»º React è„šæ‰‹æ¶"><!---->æ‰‹åŠ¨æ­å»º React è„šæ‰‹æ¶<!----></a></li></ul></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/common-method/Array.html" aria-label="å¸¸ç”¨æ–¹æ³•"><!---->å¸¸ç”¨æ–¹æ³•<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/FFmpeg/" aria-label="FFmpeg"><!---->FFmpeg<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/component-packaging/rollup.html" aria-label="Rollupç»„ä»¶å°è£…"><!---->Rollupç»„ä»¶å°è£…<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/Echarts/" aria-label="Echart"><!---->Echart<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/network-request/XMLHttpRequest.html" aria-label="ç½‘ç»œè¯·æ±‚"><!---->ç½‘ç»œè¯·æ±‚<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/css/grid.html" aria-label="CSS"><!---->CSS<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/web/GoogleDrive/" aria-label="Google Drive"><!---->Google Drive<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åç«¯"><span class="title"><!---->åç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/rear-end/Java/1-IntroductionToFundamentals.html" aria-label="Java"><!---->Java<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/rear-end/JavaWeb/1-Maven.html" aria-label="Maven"><!---->Maven<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/rear-end/JavaWeb/2-SpringBootBasis.html" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/rear-end/JavaWeb/4-MybatisIntroduction.html" aria-label="Mybatis"><!---->Mybatis<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/rear-end/JavaWeb/10-mybatis-plus.html" aria-label="Mybatis-Plus"><!---->Mybatis-Plus<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/rear-end/JavaWeb/11-redis.html" aria-label="Redis"><!---->Redis<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="è¿ç»´"><span class="title"><!---->è¿ç»´</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/server/NGINX/" aria-label="NGINX"><!---->NGINX<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/server/Docker/" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MySQL</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/server/mysql/1-install.html" aria-label="å®‰è£…"><!---->å®‰è£…<!----></a></li></ul></li><li class="dropdown-item"><a class="route-link nav-link" href="/server/window/terminal.html" aria-label="Window ç»ˆç«¯ä¸Linux"><!---->Window ç»ˆç«¯ä¸Linux<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/NightSquirrl/what-tools-blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/" aria-label="å›åˆ°ä¸»é¡µ"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>å›åˆ°ä¸»é¡µ<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-dragon" style=""></span><span class="vp-sidebar-title">å‰ç«¯</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Common</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Component Packaging</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Css</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Echarts</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">FFmpeg</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Google Drive</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Harmony</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Javascript</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Learn Vue</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Network Request</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Optimize</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Package</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">PDF</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Qr Code</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">React</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Storage</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Three Js</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Typescript</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Uni App</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Web Learn</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Webpack</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/web/webpack/Webpack_React.html" aria-label="ğŸ§ Webpack + React"><!---->ğŸ§ Webpack + React<!----></a></li><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/web/webpack/webpack.html" aria-label="ğŸª¤ Webpack"><!---->ğŸª¤ Webpack<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-book-skull" style=""></span><span class="vp-sidebar-title">åç«¯</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-chess-board" style=""></span><span class="vp-sidebar-title">è¿ç»´</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->ğŸª¤ Webpack</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/NightSquirrl" target="_blank" rel="noopener noreferrer">Night.Soul</a></span><span property="author" content="Night.Soul"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-11-04T10:35:06.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 24 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT24M"></span><!----><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag4 clickable" role="navigation">Webpack</span><!--]--><meta property="keywords" content="Webpack"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-why-ä¸ºä»€ä¹ˆéœ€è¦-webpack">1. Why? ä¸ºä»€ä¹ˆéœ€è¦ webpack</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-å®‰è£…-webpack">2. å®‰è£… webpack</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç®€å•çš„ä½¿ç”¨">ç®€å•çš„ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-åŸºæœ¬è‡ªå®šä¹‰-webpack-é…ç½®">3. åŸºæœ¬è‡ªå®šä¹‰ webpack é…ç½®</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-1è‡ªåŠ¨å¼•å…¥èµ„æº-htmlwebpackplugin">3.1è‡ªåŠ¨å¼•å…¥èµ„æº - HtmlWebpackPlugin</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-2æ­å»ºå¼€å‘ç¯å¢ƒ">3.2æ­å»ºå¼€å‘ç¯å¢ƒ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-resourceèµ„æº">4. Resourceèµ„æº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-ç®¡ç†èµ„æº">5. ç®¡ç†èµ„æº</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-1-css-æ¨¡å—">5.1 css æ¨¡å—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-2-less-loader">5.2 less loader</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-3-æŠ½ç¦»å’Œå‹ç¼©-css">5.3 æŠ½ç¦»å’Œå‹ç¼© css</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-4-åŠ è½½-fonts-å­—ä½“">5.4 åŠ è½½ fonts å­—ä½“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-5-åŠ è½½æ•°æ®-xml-csv">5.5 åŠ è½½æ•°æ® xml csv</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-6-è‡ªå®šä¹‰-json-æ¨¡å—-parser">5.6 è‡ªå®šä¹‰ JSON æ¨¡å— parser</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-babel-loaderçš„ä½¿ç”¨">6. babel-loaderçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-ä»£ç åˆ†ç¦»">7. ä»£ç åˆ†ç¦»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-1ä¿®æ”¹-entry">7.1ä¿®æ”¹ entry</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-é˜²æ­¢é‡å¤æ‰“åŒ…">7.2 é˜²æ­¢é‡å¤æ‰“åŒ…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-3-åŠ¨æ€å¯¼å…¥">7.3 åŠ¨æ€å¯¼å…¥</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-æ‡’åŠ è½½">7.4  æ‡’åŠ è½½</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-5-é¢„è·å–é¢„åŠ è½½">7.5 é¢„è·å–é¢„åŠ è½½</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-ç¼“å­˜">8.  ç¼“å­˜</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-1-ä¿®æ”¹è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å">8.1 ä¿®æ”¹è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-2-ç¼“å­˜ç¬¬ä¸‰æ–¹åº“">8.2 ç¼“å­˜ç¬¬ä¸‰æ–¹åº“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-2-æ±‡æ€»jsæ–‡ä»¶">8.2 æ±‡æ€»jsæ–‡ä»¶</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-æ‹†åˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿæˆç¯å¢ƒ">9.æ‹†åˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿæˆç¯å¢ƒ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-1-å…¬å…±è·¯å¾„">9.1  å…¬å…±è·¯å¾„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-2-ç¯å¢ƒå˜é‡">9.2 ç¯å¢ƒå˜é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-3-å‹ç¼©ä»£ç ">9.3 å‹ç¼©ä»£ç </a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-4-æ‹†åˆ†é…ç½®æ–‡ä»¶">9.4 æ‹†åˆ†é…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-5-npmå‘½ä»¤é…ç½®">9.5 npmå‘½ä»¤é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-6-æå–å…¬å…±é…ç½®">9.6  æå–å…¬å…±é…ç½®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-source-map">1. source map</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-devserver">2. devServer</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-æ¨¡å—çƒ­æ›¿æ¢ä¸çƒ­åŠ è½½">3. æ¨¡å—çƒ­æ›¿æ¢ä¸çƒ­åŠ è½½</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-eslint">4. eslint</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-1å€ŸåŠ©-webpack">4.1å€ŸåŠ© webpack</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-git-hooksä¸husky">5. git-hooksä¸husky</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-1-ä½¿ç”¨-husky-å®Œæˆä»¥ä¸ŠåŠŸèƒ½">5.1 ä½¿ç”¨ husky å®Œæˆä»¥ä¸ŠåŠŸèƒ½</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-æ¨¡å—è§£æ-resolve">6. æ¨¡å—è§£æï¼ˆresolveï¼‰</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-1-webpackä¸­çš„æ¨¡å—è·¯å¾„è§£æè§„åˆ™">6.1 webpackä¸­çš„æ¨¡å—è·¯å¾„è§£æè§„åˆ™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-2-å¤–éƒ¨æ‰©å±•">6.2 å¤–éƒ¨æ‰©å±•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-3-ä¾èµ–å›¾">6.3 ä¾èµ–å›¾</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-æ‰©å±•åŠŸèƒ½">7. æ‰©å±•åŠŸèƒ½</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-1-postcsså’Œcssæ¨¡å—">7.1 PostCSSå’ŒCSSæ¨¡å—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-web-worker">7.2 Web Worker</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-3-typescript">7.3 TypeScript</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-4-å¤šé¡µé¢åº”ç”¨">7.4 å¤šé¡µé¢åº”ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-5-try-shaking">7.5 Try Shaking</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-6-æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº-pwa">7.6 æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº PWA</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-7-shimming-é¢„ç½®ä¾èµ–">7.7 shimming é¢„ç½®ä¾èµ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-8-åŠ è½½polyfills">7.8 åŠ è½½polyfills</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-9-æ„å»ºlibrary">7.9 æ„å»ºLibrary</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-10-æ¨¡å—è”é‚¦-module-federation">7.10 æ¨¡å—è”é‚¦ï¼ˆModule Federationï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-11-é€šç”¨æ„å»ºä¼˜åŒ–">7.11 é€šç”¨æ„å»ºä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-12-å¼€å‘ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½">7.12 å¼€å‘ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><blockquote><p>é«˜çº§ç¯‡ 7.9</p></blockquote><h1 id="åŸºç¡€ç¯‡" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç¯‡"><span>åŸºç¡€ç¯‡</span></a></h1><h2 id="_1-why-ä¸ºä»€ä¹ˆéœ€è¦-webpack" tabindex="-1"><a class="header-anchor" href="#_1-why-ä¸ºä»€ä¹ˆéœ€è¦-webpack"><span>1. Why? ä¸ºä»€ä¹ˆéœ€è¦ webpack</span></a></h2><blockquote><p>é—®é¢˜</p></blockquote><ol><li>ä½œç”¨äºé—®é¢˜ GRUNT IIFE</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ç«‹å³è°ƒç”¨å‡½æ•°</span>
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åœ¨å¤–éƒ¨è°ƒç”¨</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// ç¨‹åºæŠ¥é”™,æ— æ³•è®¿é—®åˆ°</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">// å¯ä»¥è®¿é—®åˆ°</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>ä»£ç æ‹†åˆ†é—®é¢˜ - nodejs æä¾› JavaScript è¿è¡Œç¯å¢ƒ æ¨¡å—åŒ– COMMION JS -&gt; module.exports = {} -&gt; require</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// æ–°å»ºæ–‡ä»¶ math.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">+</span> y</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    add
<span class="token punctuation">}</span>

<span class="token comment">// å¼•ç”¨</span>
<span class="token keyword">const</span>  math <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./math&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç æ˜¯ nodejs ä»£ç ,æ— æ³•åœ¨æµè§ˆå™¨è¿è¡Œ</p><blockquote><p>å¦‚ä½•åœ¨æµè§ˆå™¨ä¸Šä½¿ç”¨?</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// æ–°å»ºæ–‡ä»¶ add.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">+</span> y</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç¬¬ä¸€ä¸ªå‚æ•°,æ‰€å†™çš„,æ¨¡å—ä¾èµ–çš„å…¶ä»–æ¨¡å—</span>
<span class="token comment">// ç¬¬äºŒä¸ªå‚æ•°,å›è°ƒå‡½æ•°</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> add
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// åœ¨ HTML ä¸­ä½¿ç”¨</span>
<span class="token comment">// ä½¿ç”¨ require.js</span>
<span class="token comment">// æ–°å»ºå…¥å£æ–‡ä»¶ mian.js</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./add.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">add</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>script 
src<span class="token operator">=</span><span class="token string">&quot;https://cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.js&quot;</span> 
    data<span class="token operator">-</span>main<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
    <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>ECMAScript module</li></ol><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// æ–°å»ºæ–‡ä»¶ add.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">+</span> y</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> add

<span class="token comment">// ä½¿ç”¨</span>
<span class="token comment">// å¿…é¡»æ·»åŠ  type</span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;module&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> add <span class="token keyword">from</span> <span class="token string">&quot;./add.js&quot;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token comment">// å½“è®¿é—®é¡µé¢çš„æ—¶å€™ è¦ä½¿ç”¨ http server</span>

<span class="token comment">// ä½¿ç”¨ä¸´æ—¶ server</span>

npx http<span class="token operator">-</span>server

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-å®‰è£…-webpack" tabindex="-1"><a class="header-anchor" href="#_2-å®‰è£…-webpack"><span>2. å®‰è£… webpack</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># å…¨å±€å®‰è£…</span>
<span class="token function">npm</span> i <span class="token parameter variable">-g</span> webpack webpack-cli

webpack <span class="token parameter variable">-v</span>
<span class="token comment"># æœ¬åœ°é¡¹ç›® å®‰è£…</span>
<span class="token function">npm</span> init <span class="token parameter variable">-y</span>
<span class="token function">npm</span> i webpack webpack-cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç®€å•çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ç®€å•çš„ä½¿ç”¨"><span>ç®€å•çš„ä½¿ç”¨</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>webpack <span class="token comment">#å¼€å§‹æ‰“åŒ…</span>
webpack <span class="token parameter variable">--stats</span> detailed <span class="token comment"># å±•ç¤ºæ‰“åŒ…ä¿¡æ¯</span>
npx webpack  <span class="token comment"># é¡¹ç›®å†…å‘½ä»¤</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-åŸºæœ¬è‡ªå®šä¹‰-webpack-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-åŸºæœ¬è‡ªå®šä¹‰-webpack-é…ç½®"><span>3. åŸºæœ¬è‡ªå®šä¹‰ webpack é…ç½®</span></a></h2><blockquote><p>å‘½ä»¤è¡Œçš„æ–¹å¼</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx webpack <span class="token parameter variable">--entry</span> ./src/index.js <span class="token parameter variable">--output</span> ./dist/main.js <span class="token parameter variable">--mode</span> production
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>é…ç½®æ–‡ä»¶æ–¹å¼</p></blockquote><p>æ–°å»ºæ–‡ä»¶ webpack.config.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;main.js&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1è‡ªåŠ¨å¼•å…¥èµ„æº-htmlwebpackplugin" tabindex="-1"><a class="header-anchor" href="#_3-1è‡ªåŠ¨å¼•å…¥èµ„æº-htmlwebpackplugin"><span>3.1è‡ªåŠ¨å¼•å…¥èµ„æº - HtmlWebpackPlugin</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i html-webpack-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>webpack.config.js</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token literal-property property">plugin</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.html&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token string">&#39;body&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ¯æ¬¡æ‰“åŒ…æ¸…ç©ºä¹‹å‰ dist ç›®å½•</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2æ­å»ºå¼€å‘ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_3-2æ­å»ºå¼€å‘ç¯å¢ƒ"><span>3.2æ­å»ºå¼€å‘ç¯å¢ƒ</span></a></h3><h4 id="_3-2-1-sourece-map" tabindex="-1"><a class="header-anchor" href="#_3-2-1-sourece-map"><span>3.2.1 sourece map</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devtool</span><span class="token operator">:</span><span class="token string">&quot;inline-source-map&quot;</span> <span class="token comment">//bundle.jsæ–‡ä»¶æ­£å¸¸çš„æ˜¾ç¤ºä»£ç ,å¹¶ä¸”æŠ¥é”™çš„ä½ç½®æ­£å¸¸çš„æ˜¾ç¤º</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-2-2-watch-ç›‘å¬ç¼–è¯‘-çƒ­ç¼–è¯‘" tabindex="-1"><a class="header-anchor" href="#_3-2-2-watch-ç›‘å¬ç¼–è¯‘-çƒ­ç¼–è¯‘"><span>3.2.2 watch ç›‘å¬ç¼–è¯‘ çƒ­ç¼–è¯‘</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx webpack <span class="token parameter variable">--watch</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-2-3-webpack-dev-server-çƒ­æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#_3-2-3-webpack-dev-server-çƒ­æ›´æ–°"><span>3.2.3 webpack dev server çƒ­æ›´æ–°</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i webpack-dev-server <span class="token parameter variable">-D</span> <span class="token comment"># å¼€å‘ä¾èµ–,åªæœ‰ development æ¨¡å¼æ‰ä¼šä½¿ç”¨åˆ°çš„ä¾èµ–</span>
npx webpack-dev-server <span class="token parameter variable">--open</span> <span class="token comment"># è‡ªåŠ¨æ‰“å¼€é¡µé¢</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token keyword">static</span><span class="token operator">:</span><span class="token string">&quot;./dist&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-resourceèµ„æº" tabindex="-1"><a class="header-anchor" href="#_4-resourceèµ„æº"><span>4. Resourceèµ„æº</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.png$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;asset/resource&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">genterator</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&quot;images/test.png&quot;</span> <span class="token comment">// ä¼˜å…ˆçº§ä¼šæ›´é«˜</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;asset/inline&quot;</span><span class="token punctuation">,</span> <span class="token comment">// base64 æ ¼å¼</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.txt$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;asset/source&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¯»å–æ–‡æœ¬å†…å®¹,åŸå§‹èµ„æº</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jpg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;asset&quot;</span><span class="token punctuation">,</span> <span class="token comment">// asset/resource ä¸asset/inline åˆ‡æ¢ å°äº 8kä½¿ç”¨ base64</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span><span class="token punctuation">{</span>
						<span class="token literal-property property">maxSize</span><span class="token operator">:</span><span class="token number">4</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span>  <span class="token comment">// 4M  ä¸´ç•Œå€¼</span>
          <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span><span class="token string">&quot;images/[contenthash][ext]&quot;</span><span class="token comment">// æŒ‡å®šå›¾ç‰‡èµ„æºçš„å­˜æ”¾è·¯å¾„</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-ç®¡ç†èµ„æº" tabindex="-1"><a class="header-anchor" href="#_5-ç®¡ç†èµ„æº"><span>5. ç®¡ç†èµ„æº</span></a></h2><blockquote><p>webpackåªèƒ½è§£æJSã€JSONæ–‡ä»¶ï¼Œé€šè¿‡loaderå¯ä»¥å®ç°åœ¨jsä¸ŠåŠ è½½cssç­‰å…¶ä»–æ–‡ä»¶</p></blockquote><h3 id="_5-1-css-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_5-1-css-æ¨¡å—"><span>5.1 css æ¨¡å—</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i css-loader <span class="token parameter variable">-D</span> <span class="token comment"># è§£æ css æ–‡ä»¶</span>
<span class="token function">npm</span> i style-loader <span class="token parameter variable">-D</span> <span class="token comment"># å®ç°åœ¨é¡µé¢å†™å…¥ css </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.css$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span> <span class="token comment">// æ‰§è¡Œçš„å¾ªåº,ä»åå¾€å‰</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-less-loader" tabindex="-1"><a class="header-anchor" href="#_5-2-less-loader"><span>5.2 less loader</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i less-loader <span class="token function">less</span> <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.(css|less)$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">]</span> <span class="token comment">// æ‰§è¡Œçš„å¾ªåº,ä»åå¾€å‰</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-æŠ½ç¦»å’Œå‹ç¼©-css" tabindex="-1"><a class="header-anchor" href="#_5-3-æŠ½ç¦»å’Œå‹ç¼©-css"><span>5.3 æŠ½ç¦»å’Œå‹ç¼© css</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i mini-css-extract-plugin <span class="token parameter variable">-D</span>
<span class="token function">npm</span> i css-minimizer-webpack-plugin <span class="token parameter variable">-D</span> <span class="token comment"># å‹ç¼© css</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;min-css-extract-plugin&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CssMinimizerWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;css-minimizer-webpack-plugin&quot;</span><span class="token punctuation">)</span>

<span class="token literal-property property">plugin</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  	<span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&quot;style/[contenthash].css&quot;</span> <span class="token comment">// æŒ‡å®šç›®å½•</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.(css|less)$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">]</span> <span class="token comment">// MiniCssExtractPlugin é€šè¿‡ link å¼•å…¥ css</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">minimizer</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CssMinimizerWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-åŠ è½½-fonts-å­—ä½“" tabindex="-1"><a class="header-anchor" href="#_5-4-åŠ è½½-fonts-å­—ä½“"><span>5.4 åŠ è½½ fonts å­—ä½“</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.(woff|woff2|eot|ttf|otf)$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;asset/resource&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-5-åŠ è½½æ•°æ®-xml-csv" tabindex="-1"><a class="header-anchor" href="#_5-5-åŠ è½½æ•°æ®-xml-csv"><span>5.5 åŠ è½½æ•°æ® xml csv</span></a></h3><blockquote><p>xmlä¼šè¢«è§£æä¸ºå¯¹è±¡,csv ä¼šè¢«è§£æä¸ºæ•°ç»„</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i csv-loader xml-loader <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.(csv|tsv)$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&quot;csv-loader&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.xml$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&quot;xml-loader&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-6-è‡ªå®šä¹‰-json-æ¨¡å—-parser" tabindex="-1"><a class="header-anchor" href="#_5-6-è‡ªå®šä¹‰-json-æ¨¡å—-parser"><span>5.6 è‡ªå®šä¹‰ JSON æ¨¡å— parser</span></a></h3><blockquote><p>yaml taml json5</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i tomal yaml json5 <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> toml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;toml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> yaml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;yaml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> json5 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;json5&quot;</span><span class="token punctuation">)</span>

<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.toml$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token literal-property property">parse</span><span class="token operator">:</span>toml<span class="token punctuation">.</span>parser
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.yarml$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token literal-property property">parse</span><span class="token operator">:</span>yaml<span class="token punctuation">.</span>parser
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.json5$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">parser</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token literal-property property">parse</span><span class="token operator">:</span>json5<span class="token punctuation">.</span>parser
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-babel-loaderçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_6-babel-loaderçš„ä½¿ç”¨"><span>6. babel-loaderçš„ä½¿ç”¨</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i babel-loader @babel/core @babel/preset-env <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> toml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;toml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> yaml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;yaml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> json5 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;json5&quot;</span><span class="token punctuation">)</span>

<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.js$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  		<span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>regeneratorRuntime æ˜¯ webpack æ‰“åŒ…ç”Ÿæˆçš„å…¨å±€è¾…åŠ©å‡½æ•°,ç”±babelç”Ÿæˆ,ç”¨äºå…¼å®¹ await/async</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i @babel/runtime <span class="token parameter variable">-D</span>
<span class="token function">npm</span> i @babel/plugin-transfrom-runtime <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> toml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;toml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> yaml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;yaml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> json5 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;json5&quot;</span><span class="token punctuation">)</span>

<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token string">&quot;/\.js$/&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  		<span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">]</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-ä»£ç åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#_7-ä»£ç åˆ†ç¦»"><span>7. ä»£ç åˆ†ç¦»</span></a></h2><h3 id="_7-1ä¿®æ”¹-entry" tabindex="-1"><a class="header-anchor" href="#_7-1ä¿®æ”¹-entry"><span>7.1ä¿®æ”¹ entry</span></a></h3><blockquote><p>ç¼ºç‚¹ å…¬å…±æ–‡ä»¶é‡å¤æ‰“åŒ…</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">index</span><span class="token operator">:</span><span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">another</span><span class="token operator">:</span><span class="token string">&quot;./src/another-module.js&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// åŒæ—¶éœ€è¦ä¿®æ”¹ output çš„ filename</span>
<span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&quot;[name].bundle.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-é˜²æ­¢é‡å¤æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_7-2-é˜²æ­¢é‡å¤æ‰“åŒ…"><span>7.2 é˜²æ­¢é‡å¤æ‰“åŒ…</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// æ–¹æ³•ä¸€</span>

<span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">index</span><span class="token operator">:</span><span class="token punctuation">{</span>
  	<span class="token keyword">import</span><span class="token operator">:</span><span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dependOn</span><span class="token operator">:</span><span class="token string">&quot;shared&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">another</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token keyword">import</span><span class="token operator">:</span><span class="token string">&quot;./src/another-module.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dependOn</span><span class="token operator">:</span><span class="token string">&quot;shared&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">shared</span><span class="token operator">:</span><span class="token string">&quot;lodash&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// åŒæ—¶éœ€è¦ä¿®æ”¹ output çš„ filename</span>

  
<span class="token comment">// æ–¹æ³•äºŒ</span>
  
<span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">index</span><span class="token operator">:</span><span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">another</span><span class="token operator">:</span><span class="token string">&quot;./src/another-module.js&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// åŒæ—¶éœ€è¦ä¿®æ”¹ output çš„ filename</span>
  
<span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">splitChunks</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span><span class="token string">&#39;all&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-åŠ¨æ€å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_7-3-åŠ¨æ€å¯¼å…¥"><span>7.3 åŠ¨æ€å¯¼å…¥</span></a></h3><p>é€šè¿‡importå®ç°åŠ¨æ€å¼•å…¥ï¼Œä¸”ä¸å½±å“å…¶ä»–æ¨¡å—æŠ½ç¦»æ–¹å¼</p><p>async-module.js å‡è®¾ä¸ºåŠŸèƒ½æ¨¡å—</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// async-module.js</span>
<span class="token keyword">function</span> <span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token keyword">default</span><span class="token operator">:</span>_<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
    element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> element
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åœ¨å…¶ä»–çš„é‡Œé¢ä½¿ç”¨</p></blockquote><h3 id="_7-4-æ‡’åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_7-4-æ‡’åŠ è½½"><span>7.4 æ‡’åŠ è½½</span></a></h3><p>å¯ä»¥åŠ å¿«åº”ç”¨çš„åˆå§‹è½½å…¥é€Ÿåº¦ï¼Œå‡è½»æ€»ä½“ç§¯</p><p>ä¾æ—§é€šè¿‡importç›´æ¥å¼•å…¥æ¨¡å—ï¼ŒåŒºåˆ«åœ¨äºï¼šä½•æ—¶è°ƒç”¨ä½•æ—¶åŠ è½½æ¨¡å—</p><p>èŠ‚çœæµé‡çš„åŠ è½½</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¨¡å—åˆ«å</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:&#39;math&#39; */</span><span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_7-5-é¢„è·å–é¢„åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_7-5-é¢„è·å–é¢„åŠ è½½"><span>7.5 é¢„è·å–é¢„åŠ è½½</span></a></h3><p>åœ¨å£°æ˜importæ—¶ï¼Œä½¿ç”¨ä¸‹é¢è¿™äº›å†…ç½®æŒ‡ä»¤ï¼Œå¯ä»¥è®©webpackè¾“å‡ºâ€œresource hintï¼ˆèµ„æºæç¤ºï¼‰â€ï¼Œæ¥å‘ŠçŸ¥æµè§ˆå™¨ï¼š</p><pre><code>&lt;p style=&quot;color:red&quot;&gt;prefetchï¼ˆé¢„è·å–ï¼‰ï¼šå°†æ¥æŸäº›å¯¼èˆªä¸‹å¯èƒ½éœ€è¦çš„èµ„æº ï¼Œå³åœ¨æµè§ˆå™¨ç½‘ç»œç©ºé—²æ—¶å†è·å–èµ„æº&lt;/p&gt;
</code></pre><p>preloadï¼ˆé¢„åŠ è½½ï¼‰ï¼šå½“å‰å¯¼èˆªä¸‹å¯èƒ½éœ€è¦èµ„æºï¼Œå’Œæ‡’åŠ è½½æ•ˆæœç±»ä¼¼</p><p>â€‹ ä¾æ—§åœ¨importå¼•å…¥æ—¶çš„æ³¨é‡Šä¸­æ·»åŠ </p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span>
button<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#39;ç‚¹å‡»æ‰§è¡ŒåŠ æ³•è¿ç®—&#39;</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:&#39;math&#39;,webpackPrefetch:true */</span><span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//button.addEventListener(&#39;click&#39;,()=&gt;{</span>
<span class="token comment">//  import(/* webpackChunkName:&#39;math&#39;,webpackPreload:true */&#39;./math.js&#39;).then(({add})=&gt;{</span>
<span class="token comment">//    console.log(add(4,5));</span>
<span class="token comment">//  })</span>
<span class="token comment">//})</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_8-ç¼“å­˜"><span>8. ç¼“å­˜</span></a></h2><p>æ‰“åŒ…åçš„distæ–‡ä»¶éƒ¨ç½²åˆ°æœåŠ¡å™¨ä»¥åä¾¿èƒ½è¢«æµè§ˆå™¨å®¢æˆ·ç«¯æ‰€è®¿é—®ï¼Œå› æµè§ˆå™¨çš„è§£æç‰¹æ€§ä¼šä¼˜å…ˆé€‰æ‹©ç¼“å­˜èµ„æºï¼Œæˆ‘ä»¬è¦ç¡®ä¿æ–‡ä»¶å‘ç”Ÿæ›´æ–°æ—¶æµè§ˆå™¨èƒ½è¯†åˆ«åˆ°ï¼Œæ‰€ä»¥éœ€è¦å¯¹è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶ååšå¤„ç†ã€‚</p><h3 id="_8-1-ä¿®æ”¹è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å" tabindex="-1"><a class="header-anchor" href="#_8-1-ä¿®æ”¹è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å"><span>8.1 ä¿®æ”¹è¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span></a></h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›¿æ¢ output.filename ä¸­çš„ substitutions è®¾ç½®ï¼Œæ¥å®šä¹‰è¾“å‡ºæ–‡ä»¶çš„åç§°ã€‚webpackæä¾›äº†ä¸€ç§ä½¿ç”¨ **substitution ï¼ˆå¯æ›¿æ¢æ¨¡æ¿å­—ç¬¦ä¸²ï¼‰**çš„æ–¹å¼ï¼Œé€šè¿‡å¸¦æ‹¬å·å­—ç¬¦ä¸²æ¥æ¨¡æ¿åŒ–æ–‡ä»¶åï¼Œå…¶ä¸­ï¼Œ[contenthash] substitution å°†æ ¹æ®èµ„æºå†…å®¹åˆ›å»ºå‡ºå”¯ä¸€çš„hashã€‚å½“èµ„æºå†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ [contenthash] ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span><span class="token string">&#39;images/[contenthash][ext]&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-ç¼“å­˜ç¬¬ä¸‰æ–¹åº“" tabindex="-1"><a class="header-anchor" href="#_8-2-ç¼“å­˜ç¬¬ä¸‰æ–¹åº“"><span>8.2 ç¼“å­˜ç¬¬ä¸‰æ–¹åº“</span></a></h3><p>å°†ç¬¬ä¸‰æ–¹åº“ (library) (ä¾‹å¦‚ lodash) æå–åˆ°å•ç‹¬çš„ vendor chunk æ–‡ä»¶ä¸­ï¼Œæ˜¯æ¯”è¾ƒæ¨èçš„åšæ³•ï¼Œç¬¬ä¸‰æ–¹åº“æ–‡ä»¶å¾ˆå°‘åƒæœ¬åœ°æºç ä¼šé¢‘ç¹ä¿®æ”¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨clientçš„é•¿æ•ˆç¼“å­˜æœºåˆ¶ï¼Œå‘½ä¸­ç¼“å­˜æ¥æ¶ˆé™¤è¯·æ±‚ï¼Œå¹¶å‡å°‘å‘server è·å–èµ„æºï¼ŒåŒæ—¶ä¿è¯clientå’Œserverçš„ä»£ç ä¸€è‡´ã€‚</p><blockquote><p>åœ¨splitChunksä¸­å®šä¹‰cacheGroupsç¼“å­˜ç»„ã€‚</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>	<span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token literal-property property">splitChunks</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token literal-property property">vendor</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;vendors&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">chunks</span><span class="token operator">:</span><span class="token string">&#39;all&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-æ±‡æ€»jsæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_8-2-æ±‡æ€»jsæ–‡ä»¶"><span>8.2 æ±‡æ€»jsæ–‡ä»¶</span></a></h3><p>åœ¨output.filenameåŠ ä¸Šscriptså‰ç¼€å³å¯æ±‡æ€»jsæ–‡ä»¶è‡³æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;scripts/[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-æ‹†åˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿæˆç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_9-æ‹†åˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿæˆç¯å¢ƒ"><span>9.æ‹†åˆ†å¼€å‘ç¯å¢ƒå’Œç”Ÿæˆç¯å¢ƒ</span></a></h2><h3 id="_9-1-å…¬å…±è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#_9-1-å…¬å…±è·¯å¾„"><span>9.1 å…¬å…±è·¯å¾„</span></a></h3><blockquote><p>publicPath é…ç½®é€‰é¡¹åœ¨å„ç§åœºæ™¯ä¸­éƒ½éå¸¸æœ‰ç”¨ï¼Œä½ å¯ä»¥é€šè¿‡å®ƒæ¥æŒ‡å®šåº”ç”¨ç¨‹åºä¸­æ‰€æœ‰èµ„æºçš„åŸºç¡€è·¯å¾„ã€‚</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;scripts/[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">clean</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span><span class="token string">&#39;images/[contenthash][ext]&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&#39;http://localhost:8080/&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-2-ç¯å¢ƒå˜é‡" tabindex="-1"><a class="header-anchor" href="#_9-2-ç¯å¢ƒå˜é‡"><span>9.2 ç¯å¢ƒå˜é‡</span></a></h3><blockquote><p>npx webpack --env production å¯ä»¥é€šè¿‡å‘½ä»¤ä¼ å…¥å˜é‡åŒºåˆ†ç¯å¢ƒ</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-å‹ç¼©ä»£ç " tabindex="-1"><a class="header-anchor" href="#_9-3-å‹ç¼©ä»£ç "><span>9.3 å‹ç¼©ä»£ç </span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> terser-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> TerserWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;terser-webpack-plugin&quot;</span><span class="token punctuation">)</span>


<span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">minimizer</span><span class="token operator">:</span><span class="token punctuation">[</span>
     <span class="token keyword">new</span> <span class="token class-name">TerserWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-4-æ‹†åˆ†é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_9-4-æ‹†åˆ†é…ç½®æ–‡ä»¶"><span>9.4 æ‹†åˆ†é…ç½®æ–‡ä»¶</span></a></h3><p>æ–°å»ºæ–‡ä»¶å¤¹ config</p><p>æ–°å»ºæ–‡ä»¶ webpack.config.dev.js</p><p>æ–°å»ºæ–‡ä»¶ webpack.config.prod.js</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx webpack <span class="token parameter variable">-c</span> ./config/webpack.config.dev.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>ä¿®æ”¹é…ç½®æ–‡ä»¶å¤¹é‡Œé¢çš„è¾“å‡ºæ–‡ä»¶çš„ä½ç½®</p></blockquote><blockquote><p>å¯åŠ¨ä¸€ä¸ªæœåŠ¡</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx webpack serve <span class="token parameter variable">-c</span> ./config/webpack.config.dev.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_9-5-npmå‘½ä»¤é…ç½®" tabindex="-1"><a class="header-anchor" href="#_9-5-npmå‘½ä»¤é…ç½®"><span>9.5 npmå‘½ä»¤é…ç½®</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> &quot;webpack serve -c ./config/webpack.config.dev.js<span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack -c ./config/webpack.config.prod.js &quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…³é—­ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…çš„æ–‡ä»¶è¿‡å¤§è­¦å‘Šæç¤º webpack.config</p></blockquote><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code>performance<span class="token operator">:</span><span class="token punctuation">{</span>
    hints<span class="token operator">:</span><span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-6-æå–å…¬å…±é…ç½®" tabindex="-1"><a class="header-anchor" href="#_9-6-æå–å…¬å…±é…ç½®"><span>9.6 æå–å…¬å…±é…ç½®</span></a></h3><p>æ–°å»ºæ–‡ä»¶ webpack.config.common.js</p><blockquote><p>åˆå¹¶é…ç½®</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i webpack-merge <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ–°å»ºæ–‡ä»¶ webpack.config.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>merge<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.config.common&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> productionConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.config.prod&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> developmentConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.config.dev&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> env<span class="token punctuation">.</span>development<span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span>developmentConfig<span class="token punctuation">)</span>
    <span class="token keyword">case</span> env<span class="token punctuation">.</span>production<span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span>productionConfig<span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;No matching configuration was found&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼špackage.jsonä¸­çš„configæ–‡ä»¶è·¯å¾„éœ€ç»Ÿä¸€ä¸ºæ–°åˆ›å»ºçš„configæ–‡ä»¶ï¼Œä¸”éœ€è¦æ·»åŠ ç¯å¢ƒå˜é‡</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>&quot;scripts&quot;: {
    &quot;start&quot;: &quot;webpack serve -c ./config/webpack.config.js --env development&quot;,
    &quot;build&quot;: &quot;webpack -c ./config/webpack.config.js --env production&quot;
},
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="é«˜çº§ç¯‡" tabindex="-1"><a class="header-anchor" href="#é«˜çº§ç¯‡"><span>é«˜çº§ç¯‡</span></a></h1><h2 id="_1-source-map" tabindex="-1"><a class="header-anchor" href="#_1-source-map"><span>1. source map</span></a></h2><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­æä¾›æºç æ”¯æŒï¼Œä¾¿äºå¼€å‘è€…ä½¿ç”¨ï¼Œåˆç»†åˆ†ä¸ºä»¥ä¸‹7ç§ã€‚</p><table><thead><tr><th>æ¨¡å¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>eval</td><td>æ¯ä¸ªmoduleä¼šå°è£…åˆ°evalé‡ŒåŒ…è£¹èµ·æ¥æ‰§è¡Œï¼Œå¹¶ä¸”ä¼šåœ¨æœ«å°¾è¿½åŠ æ³¨é‡Š</td></tr><tr><td>source-map</td><td>ç”Ÿæˆä¸€ä¸ªSourceMapæ–‡ä»¶</td></tr><tr><td>hidden-source-map</td><td>å’Œsource-mapä¸€æ ·ï¼Œä½†ä¸ä¼šåœ¨bundleæœ«å°¾è¿½åŠ æ³¨é‡Š</td></tr><tr><td>inline-source-map</td><td>ç”Ÿæˆä¸€ä¸ªDataUrlå½¢å¼çš„SourceMapæ–‡ä»¶</td></tr><tr><td>eval-source-map</td><td>æ¯ä¸ªmoduleä¼šé€šè¿‡evalï¼ˆï¼‰æ¥æ‰§è¡Œï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªDataUrlå½¢å¼çš„SourceMap</td></tr><tr><td>cheap-source-map</td><td>ç”Ÿæˆä¸€ä¸ªæ²¡æœ‰åˆ—ä¿¡æ¯ï¼ˆcolumn-mappingsï¼‰çš„SourceMapsæ–‡ä»¶ï¼Œä¸åŒ…å«loaderçš„sourcemapï¼ˆè­¬å¦‚babelçš„sourcemapï¼‰</td></tr><tr><td>cheap-module-source-map</td><td>ç”Ÿæˆä¸€ä¸ªæ²¡æœ‰åˆ—ä¿¡æ¯ï¼ˆcolumn-mappingsï¼‰çš„SourceMapsæ–‡ä»¶ï¼ŒåŒæ—¶loaderçš„sourcemapä¹Ÿè¢«ç®€åŒ–ä¸ºåªåŒ…å«å¯¹åº”è¡Œçš„ã€‚</td></tr></tbody></table><blockquote><p>å¼€å‘ç¯å¢ƒæ¨èä½¿ç”¨ cheap-module-source-map</p></blockquote><p>æ³¨æ„ï¼šç”Ÿäº§ç¯å¢ƒä¸€èˆ¬ä¸ä¼šå¼€å¯sourcemapåŠŸèƒ½ï¼Œæœ‰2ç‚¹åŸå› ï¼š</p><ul><li>é€šè¿‡bundleå’Œsourcemapæ–‡ä»¶ï¼Œå¯ä»¥åç¼–è¯‘å‡ºæºç â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ä¸Šæœ‰sourcemapæ–‡ä»¶çš„è¯å°±æ„å‘³ç€æœ‰æš´éœ²æºç çš„é£é™©</li><li>sourcemapæ–‡ä»¶çš„ä½“ç§¯ç›¸å¯¹å·¨å¤§ï¼Œä¸å®œæ”¾åœ¨ç”Ÿäº§ç¯å¢ƒ</li></ul><h2 id="_2-devserver" tabindex="-1"><a class="header-anchor" href="#_2-devserver"><span>2. devServer</span></a></h2><p>å¼€å‘ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å¯åŠ¨ä¸€ä¸ªwebæœåŠ¡ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªç”¨æˆ·ä»æµè§ˆå™¨ä¸­è®¿é—®æœåŠ¡ï¼Œè¯»å–æ‰“åŒ…äº§ç‰©ï¼Œä»¥æ­¤è§‚æµ‹ä»£ç åœ¨å®¢æˆ·ç«¯çš„è¡¨ç°ï¼Œwebpackå†…ç½®äº†è¿™æ ·çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•é…ç½®å°±å¯ä»¥å¼€å¯ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code> <span class="token function">npm</span> <span class="token function">install</span> webpack-dev-server <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token keyword">static</span><span class="token operator">:</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// é…ç½®æ˜¯å¦å‹ç¼©æ–‡ä»¶ä¼ è¾“</span>
        portï¼š<span class="token string">&#39;3000&#39;</span><span class="token punctuation">,</span> <span class="token comment">// è¿è¡Œç«¯å£å·</span>
        <span class="token literal-property property">headers</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token string-property property">&#39;X-Access-Token&#39;</span><span class="token operator">:</span><span class="token string">&#39;123213&#39;</span> <span class="token comment">// è‡ªå®šä¹‰å¤´éƒ¨</span>
    	<span class="token punctuation">}</span>ï¼Œ
        <span class="token literal-property property">proxy</span><span class="token operator">:</span><span class="token punctuation">{</span>
        	<span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span><span class="token string">&#39;http://localhost:9000&#39;</span> <span class="token comment">// é…ç½®ä»£ç†  ä¸€èˆ¬ç”¨æ¥è§£å†³å¿«é±¼çš„é—®é¢˜</span>
    	<span class="token punctuation">}</span>ï¼Œ
        <span class="token literal-property property">https</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®httpsåè®®</span>
        <span class="token literal-property property">http2</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> 
        historyApiFallBackï¼š<span class="token boolean">true</span><span class="token punctuation">,</span>
				<span class="token literal-property property">host</span><span class="token operator">:</span><span class="token string">&#39;0.0.0.0&#39;</span> <span class="token comment">//å¦‚æœåœ¨å¼€å‘ç¯å¢ƒä¸­å¯åŠ¨äº†ä¸€ä¸ªdevserveæœåŠ¡ï¼Œå¹¶æœŸæœ›å…¶ä»–äººèƒ½è®¿é—®åˆ°ï¼Œåªéœ€è¦é…ç½®è¯¥é¡¹å³å¯</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpack-dev-severæ˜¯é™æ€èµ„æºæœåŠ¡å™¨ï¼Œä»–ä¼šé€šè¿‡ä½ çš„outputé…ç½®å»è¯»å–æ–‡ä»¶ï¼Œé€šè¿‡â€™/â€™åˆ†å‰²ä»¥æ–‡ä»¶æŸ¥æ‰¾çš„æ¨¡å¼åŒ¹é…æ–‡ä»¶ã€‚è¿™æ ·è‡ªç„¶å°±äº§ç”Ÿé—®é¢˜äº†ï¼Œå› ä¸ºä½ é…ç½®çš„è·¯ç”±å¹¶ä¸æ˜¯å®é™…å­˜åœ¨çš„æ–‡ä»¶ï¼Œæ ¹æ®æ–‡ä»¶æŸ¥æ‰¾çš„æ–¹å¼æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œåªä¼š404ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&quot;/&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-æ¨¡å—çƒ­æ›¿æ¢ä¸çƒ­åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_3-æ¨¡å—çƒ­æ›¿æ¢ä¸çƒ­åŠ è½½"><span>3. æ¨¡å—çƒ­æ›¿æ¢ä¸çƒ­åŠ è½½</span></a></h2><p>æ¨¡å—çƒ­æ›¿æ¢ï¼š</p><p>æ¨¡å—çƒ­æ›¿æ¢ï¼ˆHMR - hot module replacementï¼‰åŠŸèƒ½ä¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤ æ¨¡å— ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p><p>å¯ç”¨webpackçš„çƒ­æ¨¡å—æ›¿æ¢ç‰¹æ€§ï¼Œéœ€è¦é…ç½®devServer.hot å‚æ•°</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
        <span class="token literal-property property">hot</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">liveReload</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// çƒ­åŠ è½½ æ–°ç‰ˆwebpack-dev-serveré»˜è®¤å·²ç»å¼€å¯çƒ­åŠ è½½åŠŸèƒ½</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªå®šä¹‰æ¨¡å—å¯ä»¥ç”¨hot.acceptæ–¹æ³•æ¥å®ç°çƒ­æ›¿æ¢</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span><span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&#39;./input.js&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-eslint" tabindex="-1"><a class="header-anchor" href="#_4-eslint"><span>4. eslint</span></a></h2><p>å¤šäººååŒå¼€å‘æ—¶ï¼Œç”¨ä»¥è§„èŒƒä»£ç æ ¼å¼çš„å·¥å…·</p><p>æœ¬åœ°å®‰è£…eslint</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i eslint <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿è¡Œ npx eslint --init åˆå§‹åŒ–eslinté…ç½®</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ”¯æŒè¿è¡Œåœ¨æµè§ˆå™¨ä¸­</span>
        <span class="token property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// æ”¯æŒes2021</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;airbnb-base&quot;</span> <span class="token comment">// æ”¯æŒçš„æ‰©å±•æ–‡ä»¶</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token comment">// ecmaVersion ç‰ˆæœ¬</span>
        <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token comment">//å¯ç”¨çš„è§„åˆ™</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;globals&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-1å€ŸåŠ©-webpack" tabindex="-1"><a class="header-anchor" href="#_4-1å€ŸåŠ©-webpack"><span>4.1å€ŸåŠ© webpack</span></a></h3><p>â€‹ è¿è¡Œeslintæ£€æŸ¥ï¼š npx eslint ç›®å½•</p><p>â€‹ å½“é¡¹ç›®ä¸­å…¶ä»–äººæ²¡æœ‰å®‰è£…eslintæ’ä»¶è‡³IDEæ—¶ï¼Œå¯ä»¥åŠ è£…webpackæ’ä»¶æ¥æ”¯æŒeslint</p><p>â€‹ æœ¬åœ°å®‰è£…babel-loaderã€eslint-webpack-plugin</p><p>â€‹ npm install babel-loader eslint-webpack-plugin -D</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
		<span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;bable-loader&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;eslint-webpack-plugin&#39;</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å…³é—­ç½‘é¡µ eslint çš„é”™è¯¯æç¤º</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token literal-property property">client</span><span class="token operator">:</span><span class="token punctuation">{</span>
  	<span class="token literal-property property">overlay</span><span class="token operator">:</span><span class="token boolean">false</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-git-hooksä¸husky" tabindex="-1"><a class="header-anchor" href="#_5-git-hooksä¸husky"><span>5. git-hooksä¸husky</span></a></h2><p>ä¸ºä¿è¯å›¢é˜Ÿçš„å¼€å‘äººå‘˜æäº¤ä»£ç æ—¶ç¬¦åˆè§„èŒƒï¼Œå¯ä»¥é€‰æ‹©åœ¨ä¸Šä¼ ä»£ç æ—¶è¿›è¡Œæ ¡éªŒï¼Œæˆ‘ä»¬å¸¸ç”¨huskyæ¥ååŠ©ä»£ç æäº¤æ—¶çš„eslintæ ¡éªŒã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> init
<span class="token function">ls</span> <span class="token parameter variable">-la</span> <span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰çš„æ–‡ä»¶åŒ…æ‹¬éšè—çš„æ–‡ä»¶</span>
<span class="token builtin class-name">cd</span> .git
<span class="token builtin class-name">cd</span> hooks
<span class="token function">touch</span> pre-commit
<span class="token function">vim</span> pre-commit

	<span class="token builtin class-name">echo</span> pre-commit <span class="token comment"># ç»ˆç«¯æ‰“å°</span>
	npx eslint ./src
<span class="token comment"># ä¿®æ”¹æ–‡ä»¶çš„è¯»å†™æƒé™</span>
chomd +x ./pre-commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®.git ä¸­é»˜è®¤è·¯å¾„,è¯»å–è‡ªå®šä¹‰çš„è·¯å¾„</p><p>æ–°å»ºæ–‡ä»¶å¤¹.mygithooks æ–°å»ºæ–‡ä»¶ pre-commit</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> config core.hooksPath .mygithoos
chomd +x .mygithooks/pre-commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-1-ä½¿ç”¨-husky-å®Œæˆä»¥ä¸ŠåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_5-1-ä½¿ç”¨-husky-å®Œæˆä»¥ä¸ŠåŠŸèƒ½"><span>5.1 ä½¿ç”¨ husky å®Œæˆä»¥ä¸ŠåŠŸèƒ½</span></a></h3><p><a href="https://typicode.github.io/husky/" target="_blank" rel="noopener noreferrer">å®˜ç½‘åœ°å€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i husky <span class="token parameter variable">-D</span>
npx husky <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>fix package.json</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;script&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;prepare&quot;</span><span class="token operator">:</span><span class="token string">&quot;husky install&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åˆ›å»º hook</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/pre-commit <span class="token string">&quot;npm test&quot;</span>

<span class="token comment">#ç„¶ååœ¨.husky ä¸­ç”Ÿæˆäº†ä¸€ä¸ªæ–‡ä»¶ å¦‚æœæ˜¯ç©ºç™½,åˆ™æ·»åŠ  npx eslint ./src</span>
<span class="token comment"># æˆæƒ chomd +x .husky/pre-commit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-æ¨¡å—è§£æ-resolve" tabindex="-1"><a class="header-anchor" href="#_6-æ¨¡å—è§£æ-resolve"><span>6. æ¨¡å—è§£æï¼ˆresolveï¼‰</span></a></h2><blockquote><p>ä¸åŒæ—¶æœŸæ¨¡å—çš„å¼•å…¥å’Œå¯¼å‡º</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// ECMAScript æ¨¡å—</span>
<span class="token keyword">import</span> a <span class="token keyword">from</span> <span class="token string">&quot;./a&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> a
<span class="token comment">// CommonJS æ¨¡å—</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./a&quot;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a
<span class="token comment">// AMD æ¨¡å—</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./a.js&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;./b.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>webpacké€šè¿‡Resolverså®ç°äº†æ¨¡å—ä¹‹é—´çš„ä¾èµ–ä¸å¼•ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> _ form <span class="token string">&#39;lodash&#39;</span>

<span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils/add&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€å¼•ç”¨çš„æ¨¡å—å¯ä»¥æ˜¯æ¥è‡ªåº”ç”¨ç¨‹åºçš„ä»£ç ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¬¬ä¸‰æ–¹åº“ã€‚resolverå¸®åŠ©webpackä»æ¯ä¸ªrequire/import è¯­å¥ä¸­ï¼Œæ‰¾åˆ°éœ€è¦å¼•å…¥åˆ°bundleä¸­çš„æ¨¡å—ä»£ç ã€‚å½“æ‰“åŒ…æ¨¡å—æ—¶ï¼Œwebpackä½¿ç”¨enhanced-resolve æ¥è§£ææ–‡ä»¶è·¯å¾„ã€‚</p><h3 id="_6-1-webpackä¸­çš„æ¨¡å—è·¯å¾„è§£æè§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_6-1-webpackä¸­çš„æ¨¡å—è·¯å¾„è§£æè§„åˆ™"><span>6.1 webpackä¸­çš„æ¨¡å—è·¯å¾„è§£æè§„åˆ™</span></a></h3><p>é€šè¿‡å†…ç½®çš„enhanced-resolveï¼Œwebpackèƒ½è§£æä¸‰ç§æ–‡ä»¶è·¯å¾„</p><h4 id="_6-1-1ç»å¯¹è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#_6-1-1ç»å¯¹è·¯å¾„"><span>6.1.1ç»å¯¹è·¯å¾„</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;/home/me/file&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;C:\\Users\\me\\file&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºå·²ç»è·å¾—æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œå› æ­¤ä¸éœ€è¦å†åšè¿›ä¸€æ­¥è§£æ</p><h4 id="_6-1-2ç›¸å¯¹è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#_6-1-2ç›¸å¯¹è·¯å¾„"><span>6.1.2ç›¸å¯¹è·¯å¾„</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;../utils/reqFetch&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./styles.css&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨importæˆ–requireçš„èµ„æºæ–‡ä»¶æ‰€å¤„çš„ç›®å½•ï¼Œè¢«è®¤ä¸ºæ˜¯ä¸Šä¸‹æ–‡ç›®å½•ã€‚åœ¨import/requireä¸­ç»™å®šçš„ç›¸å¯¹è·¯å¾„ï¼Œenhanced-resolveä¼šæ‹¼æ¥æ­¤ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œæ¥ç”Ÿæˆæ¨¡å—çš„ç»å¯¹è·¯åŠ²path.resolve(__dirname,RelativePath)ã€‚</p><h4 id="_6-1-3-è·¯å¾„åˆ«å" tabindex="-1"><a class="header-anchor" href="#_6-1-3-è·¯å¾„åˆ«å"><span>6.1.3 è·¯å¾„åˆ«å</span></a></h4><blockquote><p>ä¿®æ”¹ webpack</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span>
<span class="token literal-property property">resolve</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">alias</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&quot;./src&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-1-4ä¿®æ”¹é»˜è®¤çš„å¼•å…¥æ‰©å±•å" tabindex="-1"><a class="header-anchor" href="#_6-1-4ä¿®æ”¹é»˜è®¤çš„å¼•å…¥æ‰©å±•å"><span>6.1.4ä¿®æ”¹é»˜è®¤çš„å¼•å…¥æ‰©å±•å</span></a></h4><p>å½“å¼•å…¥çš„æ—¶å€™æ²¡æœ‰å¡«å†™æ–‡ä»¶çš„æ‰©å±•å,æŒ‰ç…§æ•°ç»„çš„é¡ºåºå¼•å…¥å¯¹åº”çš„åç¼€æ–‡ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">extensions</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token string">&quot;.json&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;.vue&quot;</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-å¤–éƒ¨æ‰©å±•" tabindex="-1"><a class="header-anchor" href="#_6-2-å¤–éƒ¨æ‰©å±•"><span>6.2 å¤–éƒ¨æ‰©å±•</span></a></h3><p>æœ‰æ—¶æˆ‘ä»¬ä¸ºäº†å‡å°bundleä½“ç§¯ï¼Œä¼šæŠŠä¸€äº›ä¸å˜çš„ç¬¬ä¸‰æ–¹åº“ç”¨cdnçš„å½¢å¼å¼•å…¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">externalsType</span><span class="token operator">:</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">,</span> <span class="token comment">// é€‰æ‹©åŠ è½½ç±»å‹</span>
    <span class="token literal-property property">externals</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">jquery</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token string">&#39;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js&#39;</span><span class="token punctuation">,</span>
            <span class="token string">&#39;$&#39;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-ä¾èµ–å›¾" tabindex="-1"><a class="header-anchor" href="#_6-3-ä¾èµ–å›¾"><span>6.3 ä¾èµ–å›¾</span></a></h3><p>æ¯å½“ä¸€ä¸ªæ–‡ä»¶ä¾èµ–å¦ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œwebpackä¼šç›´æ¥å°†æ–‡ä»¶è§†ä¸ºå­˜åœ¨ä¾èµ–å…³ç³»ã€‚è¿™ä½¿å¾—webpackå¯ä»¥è·å–éä»£ç èµ„æºï¼Œå¦‚imagesæˆ–webå­—ä½“ç­‰ã€‚å¹¶ä¼šæŠŠå®ƒä»¬ä½œä¸ºä¾èµ–æä¾›ç»™åº”ç”¨ç¨‹åºã€‚</p><p>å½“webpackå¼€å§‹å·¥ä½œæ—¶ï¼Œä»–ä¼šæ ¹æ®æˆ‘ä»¬çš„é…ç½®ï¼Œä»entryå¼€å§‹é€’å½’æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾ï¼Œå…¶ä¸­åŒ…å«ç€åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰æ¨¡å—æ‰“åŒ…ä¸ºbundleï¼ˆä¹Ÿå°±æ˜¯outputçš„é…ç½®é¡¹ï¼‰ã€‚</p><p>bundle analysiså·¥å…·ï¼š</p><ul><li><p>**webpack-chartï¼š**webpack stats å¯äº¤äº’é¥¼å›¾</p></li><li><p>**webpack-visualizerï¼š**å¯è§†åŒ–bundleï¼Œæ£€æŸ¥æ¨¡å—å ç”¨ç©ºé—´åŠé‡å¤ä½¿ç”¨</p></li><li><p>**webpack-bundle-analyzerï¼š**ä¸€ä¸ªpluginå’ŒCLIå·¥å…·ï¼Œå®ƒå°†bundleå†…å®¹å±•ç¤ºä¸ºä¸€ä¸ªä¾¿æ·çš„ã€äº¤äº’å¼ã€å¯ç¼©æ”¾çš„æ ‘çŠ¶å›¾å½¢å¼</p></li><li><p>**webpack bundle optimize helperï¼š**å¯ä»¥åˆ†æbundleï¼Œå¹¶æä¾›å¯æ“ä½œçš„æ”¹è¿›æªæ–½ï¼Œä»¥å‡å°‘åŒ…ä½“ç§¯å¤§å°</p></li><li><p>**bundle-statsï¼š**ç”Ÿæˆä¸€ä¸ªbundleæŠ¥å‘Šï¼ˆå¤§å°ã€èµ„æºã€æ¨¡å—ï¼‰ï¼Œå¹¶è‡ªåŠ¨æ¯”è¾ƒä¸åŒæ„å»ºä¹‹é—´çš„ç»“æœã€‚</p></li></ul><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i webpack-bundle-analyzer <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>BundleAnalyzerPlugin<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-bundle-analyzer&quot;</span><span class="token punctuation">)</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-æ‰©å±•åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_7-æ‰©å±•åŠŸèƒ½"><span>7. æ‰©å±•åŠŸèƒ½</span></a></h2><h3 id="_7-1-postcsså’Œcssæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_7-1-postcsså’Œcssæ¨¡å—"><span>7.1 PostCSSå’ŒCSSæ¨¡å—</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> postcss-loader autoprefixser <span class="token parameter variable">-D</span>
<span class="token function">npm</span> i postcss-nested <span class="token parameter variable">-D</span>  <span class="token comment"># å¯ä»¥ä½¿ç”¨ less sass åµŒå¥—è¯­æ³•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–°å»ºæ–‡ä»¶postcss.config.jsè‡³æ ¹ç›®å½•ä¸‹ï¼Œå¹¶é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;postcss-nested&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">modules</span><span class="token operator">:</span><span class="token boolean">true</span> <span class="token comment">// å¼€å¯ css æ¨¡å—åŒ–</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&#39;postcss-loader&#39;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œè¿˜éœ€åœ¨package.jsonä¸­é…ç½®æµè§ˆå™¨åˆ—è¡¨ä»¥å®ç°å…¼å®¹æ•ˆæœ</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    ...
    <span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;last 2 versions&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-web-worker" tabindex="-1"><a class="header-anchor" href="#_7-2-web-worker"><span>7.2 Web Worker</span></a></h3><p>webpack5è‡ªå¸¦ï¼Œä¸éœ€è¦å®‰è£…loaderå°±èƒ½åœ¨webpackä¸­ä½¿ç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// å‡è®¾work.jsä»£ç å¦‚ä¸‹</span>
self<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">answer</span><span class="token operator">:</span><span class="token number">1111</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// åœ¨å…¶ä»–jsä¸­å¼•å…¥å¹¶è°ƒç”¨å³å¯</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&#39;./work.js&#39;</span><span class="token punctuation">,</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>

worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">question</span><span class="token operator">:</span><span class="token string">&#39;å–‚å–‚å–‚&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-typescript" tabindex="-1"><a class="header-anchor" href="#_7-3-typescript"><span>7.3 TypeScript</span></a></h3><p>webpackä¹Ÿæä¾›typescriptçš„è‰¯å¥½æ”¯æŒ</p><p>å®‰è£…typescriptï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> typescript ts-loader <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆå§‹åŒ–tsé…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx tsc <span class="token parameter variable">--init</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¹¶ä¿®æ”¹tsconfig.jsonä¸­çš„æ–‡ä»¶ç›®å½•</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>   
    ...
	<span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// è¿™é‡Œåªä¿®æ”¹äº†è¾“å…¥å’Œè¾“å‡ºæ–‡ä»¶ç›®å½•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨ï¼šåœ¨tsä¸­å¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“éœ€è¦å•ç‹¬è¿›è¡Œä¸‹è½½ï¼Œå¦‚ npm install @types/loadsh -D ä¸€æ ·</p><h3 id="_7-4-å¤šé¡µé¢åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_7-4-å¤šé¡µé¢åº”ç”¨"><span>7.4 å¤šé¡µé¢åº”ç”¨</span></a></h3><h4 id="entryé…ç½®" tabindex="-1"><a class="header-anchor" href="#entryé…ç½®"><span>entryé…ç½®</span></a></h4><p>å½“éœ€è¦é€‚é…å¤šé¡µé¢åº”ç”¨æ—¶ï¼Œå¯ä»¥é€šè¿‡é…ç½®entryæ¥æ”¯æŒ</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">main</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token keyword">import</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;./src/app.js&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;./src/work.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dependOn</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">main2</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token keyword">import</span><span class="token operator">:</span><span class="token string">&#39;./src/craft.js&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dependOn</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lodash</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span> <span class="token comment">// å…±ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶å¯æ•´åˆåœ¨ä¸€èµ·</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="index-html-æ¨¡æ¿é…ç½®" tabindex="-1"><a class="header-anchor" href="#index-html-æ¨¡æ¿é…ç½®"><span>index.html æ¨¡æ¿é…ç½®</span></a></h4><p>æƒ³è¦è‡ªå®šä¹‰ä¸€äº›htmlç›¸å…³çš„é…ç½®é¡¹æ—¶ï¼Œå¯ä»¥é€šè¿‡htmlwebpackpluginçš„æ¨¡æ¿é…ç½®ç”Ÿæˆ</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span><span class="token string">&#39;å¤šé¡µé¢åº”ç”¨&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">template</span><span class="token operator">:</span><span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">inject</span><span class="token operator">:</span><span class="token string">&#39;body&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å®šä¹‰scriptæ ‡ç­¾çš„ç”Ÿæˆä½ç½®</span>
            <span class="token literal-property property">chunks</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;main&#39;</span><span class="token punctuation">]</span> <span class="token comment">// webpackä¼šé»˜è®¤æ ¹æ®entryè‡ªåŠ¨ç”Ÿæˆchunksï¼Œæ‰‹åŠ¨é…ç½®ä»¥ååªä¼šç”Ÿæˆå¯¹åº”é”®çš„chunks </span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">main</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token keyword">import</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;./src/app.js&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;./src/work.js&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dependOn</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">main2</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token keyword">import</span><span class="token operator">:</span><span class="token string">&#39;./src/craft.js&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">dependOn</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lodash</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span> <span class="token comment">// å…±ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶å¯æ•´åˆåœ¨ä¸€èµ·</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code>// å¹¶åœ¨htmlä¸­æ·»åŠ å¯¹åº”é…ç½®
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-5-try-shaking" tabindex="-1"><a class="header-anchor" href="#_7-5-try-shaking"><span>7.5 Try Shaking</span></a></h3><p>å½“ Javascript é¡¹ç›®è¾¾åˆ°ä¸€å®šä½“ç§¯æ—¶ï¼Œå°†ä»£ç åˆ†æˆæ¨¡å—ä¼šæ›´æ˜“äºç®¡ç†ã€‚</p><p>ä½†æ˜¯ï¼Œå½“è¿™æ ·åšæ—¶ï¼Œæˆ‘ä»¬æœ€ç»ˆå¯èƒ½ä¼šå¯¼å…¥å®é™…ä¸Šæœªä½¿ç”¨çš„ä»£ç ã€‚Tree Shaking æ˜¯ä¸€ç§é€šè¿‡æ¶ˆé™¤æœ€ç»ˆæ–‡ä»¶ä¸­æœªä½¿ç”¨çš„ä»£ç æ¥ä¼˜åŒ–ä½“ç§¯çš„æ–¹æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
      <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">usedExports</span><span class="token operator">:</span><span class="token boolean">true</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="sideeffects" tabindex="-1"><a class="header-anchor" href="#sideeffects"><span>sideEffects</span></a></h4><p>tree-shaking ä¼šå¯¼è‡´æ— å·®åˆ«åˆ é™¤ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®sideEffectsæ¥æ‰‹åŠ¨è°ƒèŠ‚æ¨¡å—</p><p>åœ¨package.jsonä¸­ç¼–è¾‘ï¼Œä¸‹æ–¹ç¤ºä¾‹å³ä¸ºå¯¹cssåç¼€çš„æ–‡ä»¶ä¸è¿‡æ»¤</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;sideEffects&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-6-æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº-pwa" tabindex="-1"><a class="header-anchor" href="#_7-6-æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº-pwa"><span>7.6 æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº PWA</span></a></h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps/Tutorials/js13kGames" target="_blank" rel="noopener noreferrer">äº†è§£è¯¦æƒ…<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ç®€è€Œè¨€ä¹‹ï¼ŒPWAæ˜¯ä¸€ä¸ªç½‘ç«™ï¼Œä½†æ˜¯å®ƒä»¬é‡‡ç”¨äº†æœ€æ–°çš„Webæ ‡å‡†æ¥å…è®¸åœ¨ç”¨æˆ·åœ¨è®¾å¤‡ä¸Šå®‰è£…å®ƒã€‚ä»–æä¾›äº†å’ŒAppä¸€æ ·çš„ç”¨æˆ·ä½“éªŒã€‚å½“æ²¡æœ‰ç½‘ç»œè¿æ¥æ—¶ï¼Œå®ƒå¯ä»¥ç¦»çº¿ä½¿ç”¨ï¼Œå®ƒå¯ä»¥ç¼“å­˜ä¸Šä¸€æ¬¡è”ç½‘äº¤äº’è¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚å®ƒå°†Appåº”ç”¨ç¨‹åºçš„å¤–è§‚ç¾æ„Ÿå’Œç½‘ç«™çš„æ˜“å¼€å‘ç‰¹æ€§èåˆåœ¨äº†ä¸€èµ·ã€‚</p><p>è¿™é‡Œä¸»è¦ä½¿ç”¨ http-server æ¥ä½“éªŒ</p><p>æœ¬åœ°å®‰è£… http-server</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> http-server --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œwebpack DevServer ä¼šå†™å…¥åˆ°å†…å­˜ã€‚æˆ‘ä»¬éœ€è¦å¯ç”¨ devserverdevmiddleware.writeToDisk é…ç½®é¡¹ï¼Œæ¥è®© http-server å¤„ç† ./dist ç›®å½•ä¸­çš„æ–‡ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
	<span class="token literal-property property">devMiddleWare</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">index</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">writeToDisk</span><span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨package.jsonä¸­é…ç½®è„šæœ¬</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;start&quot;</span><span class="token operator">:</span><span class="token string">&quot;http-server dist&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ·»åŠ workbox" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ workbox"><span>æ·»åŠ Workbox</span></a></h4><p>æ·»åŠ  workbox-webpack-plugin æ’ä»¶ï¼Œç„¶åè°ƒæ•´ webpack.config.js æ–‡ä»¶</p><p>ä»¥å®ç°ç¦»çº¿ç¯å¢ƒä¸‹ä¾ç„¶èƒ½å¤Ÿè®¿é—®åº”ç”¨</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> workbox-webpack-plugin --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> WorkboxPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;workbox-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">WorkboxPlugin<span class="token punctuation">.</span>GenerateSW</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// è¿™äº›é€‰é¡¹å¸®åŠ©å¿«é€Ÿå¯ç”¨ ServiceWorkers</span>
            <span class="token comment">// ä¸å…è®¸é—ç•™ä»»ä½•â€œæ—§çš„â€ ServiceWorkers</span>
            <span class="token literal-property property">clientsClaims</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">skipWaiting</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ³¨å†Œservice-worker" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œservice-worker"><span>æ³¨å†ŒService-Worker</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&#39;serviceWorker&#39;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span><span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
        navigator<span class="token punctuation">.</span>serviceWorker<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;/service-worker.js&#39;</span><span class="token punctuation">)</span>
    	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;SW æ³¨å†ŒæˆåŠŸ&#39;</span><span class="token punctuation">,</span>registration<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    	<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">registrationError</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;SW æ³¨å†Œå¤±è´¥&#39;</span><span class="token punctuation">,</span>registrationError<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-7-shimming-é¢„ç½®ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_7-7-shimming-é¢„ç½®ä¾èµ–"><span>7.7 shimming é¢„ç½®ä¾èµ–</span></a></h3><p>å°†æ¨¡å—æ·»åŠ è‡³å…¨å±€ï¼Œæ¯”å¦‚lodashç›´æ¥å®šä¹‰ä¸ºå…¨å±€å˜é‡</p><h4 id="shimmingé¢„ç½®å…¨å±€å˜é‡" tabindex="-1"><a class="header-anchor" href="#shimmingé¢„ç½®å…¨å±€å˜é‡"><span>shimmingé¢„ç½®å…¨å±€å˜é‡</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">// å°†ä¸‹åˆ’çº¿æŒ‡å®šä¸ºå…¨å±€å˜é‡</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">_</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç»†ç²’åº¦-shimming" tabindex="-1"><a class="header-anchor" href="#ç»†ç²’åº¦-shimming"><span>ç»†ç²’åº¦ Shimming</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> i imports-loader <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸€äº›é—ç•™æ¨¡å—ä¾èµ–çš„ <span style="color:red;">this æŒ‡å‘çš„æ˜¯ window å¯¹è±¡</span>ã€‚åœ¨rulesä¸­é…ç½®importsä»¥è¦†ç›–exportsçš„æŒ‡å‘</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
	<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&#39;imports-loader?wrapper=window&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å…¨å±€exports" tabindex="-1"><a class="header-anchor" href="#å…¨å±€exports"><span>å…¨å±€exports</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
	<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token comment">// å…¨å±€å®šä¹‰ äº†commonjsçš„å¯¼å‡ºæ–¹æ³•æ¥å¯¼å‡ºfileå˜é‡</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span>require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/global.js&#39;</span><span class="token punctuation">)</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&#39;exports-loader?type=commonjs&amp;exports=file,multiple|helpers.parse|parse&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-8-åŠ è½½polyfills" tabindex="-1"><a class="header-anchor" href="#_7-8-åŠ è½½polyfills"><span>7.8 åŠ è½½polyfills</span></a></h3><p><strong>æ³¨ï¼šç°ç›®å‰å»ºè®®ä¸å†ä½¿ç”¨polyfillï¼Œè€Œæ˜¯æ”¹ä¸ºcore.js</strong></p><p>æœ¬åœ°å®‰è£… polyfill</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/polyfill <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åç›´æ¥å¼•å…¥åˆ°ä¸»bundleæ–‡ä»¶ä¸­</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;@babel/polyfill&#39;</span>

<span class="token comment">// å½“å‰ä¸»bundleæ–‡ä»¶</span>
<span class="token comment">// ä¸šåŠ¡ä»£ç </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è¿›ä¸€æ­¥ä¼˜åŒ–polyfills" tabindex="-1"><a class="header-anchor" href="#è¿›ä¸€æ­¥ä¼˜åŒ–polyfills"><span>è¿›ä¸€æ­¥ä¼˜åŒ–polyfills</span></a></h4><p>ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ Import @babel/polyfill ã€‚ä¼šå¯¼è‡´å…¨å±€å¼•å…¥æ•´ä¸ªpolyfill åŒ…ï¼Œä½“ç§¯å¤§ä¸”æ±¡æŸ“å…¨å±€ç¯å¢ƒã€‚</p><p>babel-preset-env package é€šè¿‡ browserlist æ¥è½¬è¯‘é‚£äº›æµè§ˆå™¨ä¸­ä¸æ”¯æŒçš„ç‰¹æ€§ã€‚presetä½¿ç”¨ useBuiltIns é€‰é¡¹ï¼Œé»˜è®¤falseï¼Œè¿™ç§æ–¹å¼å¯ä»¥å°†å…¨å±€ babel-polyfill å¯¼å…¥ï¼Œæ”¹è¿›ä¸ºç»†ç²’åº¦æ›´é«˜çš„importæ ¼å¼</p><blockquote><p>æœ¬åœ°å®‰è£… @babel/preset-env åŠç›¸å…³åŒ…</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> core-js@3 babel-loader @babel/core @babel/preset-env <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨webpack.config.jsä¸­é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token operator">...</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token punctuation">[</span>
                            <span class="token punctuation">[</span>
                                
                                <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
                                <span class="token punctuation">{</span>
                                    <span class="token literal-property property">targets</span><span class="token operator">:</span><span class="token punctuation">[</span>
                                        <span class="token string">&#39;last 1 version&#39;</span><span class="token punctuation">,</span>
                                        <span class="token string">&#39;&gt; 1%&#39;</span>
                                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                                    <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span><span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
                                    <span class="token literal-property property">corejs</span><span class="token operator">:</span><span class="token number">3</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">]</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-9-æ„å»ºlibrary" tabindex="-1"><a class="header-anchor" href="#_7-9-æ„å»ºlibrary"><span>7.9 æ„å»ºLibrary</span></a></h3><p>é…ç½® webpack.config.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token string">&#39;./src/app.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">experiments</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//å½“libraryç±»å‹ä¸ºmoduleæ—¶ æ­¤é¡¹å¿…å¡«</span>
	<span class="token literal-property property">outputModule</span><span class="token operator">:</span><span class="token boolean">true</span> 
  <span class="token punctuation">}</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;mylib.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// name:&#39;mylib&#39;, å½“typeä¸ºmoduleæ—¶ï¼Œä¸éœ€è¦name</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&#39;module&#39;</span> <span class="token comment">// å¯é€‰ commonjs </span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æƒ³è¦åŒæ—¶æ”¯æŒcommonJså’Œmoduleæ—¶ï¼Œä½¿ç”¨umdè§„èŒƒé…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;mylib.js&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">library</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;mylib&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&#39;umd&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">globalObject</span><span class="token operator">:</span><span class="token string">&#39;globalThis&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ›å»ºä¸€ä¸ªlibrary" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªlibrary"><span>åˆ›å»ºä¸€ä¸ªlibrary</span></a></h4><p>ä½¿ç”¨npmåˆå§‹åŒ–é¡¹ç›®åï¼Œå®‰è£…webpackã€webpack-cli å’Œ lodash</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli lodash <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å°†lodashå®‰è£…ä½devDependencies è€Œé dependencies ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ‰“åŒ…åˆ°åº“ï¼Œå‡å°‘åŒ…ä½“ç§¯</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;mylib.js&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">library</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;mylib&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&#39;umd&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">globalObject</span><span class="token operator">:</span><span class="token string">&#39;globalThis&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">externals</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">lodash</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token literal-property property">commonjs</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">amd</span><span class="token operator">:</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">root</span><span class="token operator">:</span><span class="token string">&#39;_&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å‘å¸ƒä¸ºnpm-package" tabindex="-1"><a class="header-anchor" href="#å‘å¸ƒä¸ºnpm-package"><span>å‘å¸ƒä¸ºnpm-package</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> config get registry
<span class="token function">npm</span> adduser
// ç„¶åè¾“å…¥ç”¨æˆ·åå¯†ç é‚®ç®±ç™»å½•
<span class="token function">npm</span> publish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-10-æ¨¡å—è”é‚¦-module-federation" tabindex="-1"><a class="header-anchor" href="#_7-10-æ¨¡å—è”é‚¦-module-federation"><span>7.10 æ¨¡å—è”é‚¦ï¼ˆModule Federationï¼‰</span></a></h3><p>æ¨¡å—è”é‚¦æ˜¯ Webpack5 æ–°å†…ç½®çš„ä¸€ä¸ªé‡è¦åŠŸèƒ½ï¼Œå¯ä»¥è®©è·¨åº”ç”¨é—´çœŸæ­£åšåˆ°æ¨¡å—å…±äº«ï¼Œ <a href="https://link.zhihu.com/?target=https%3A//indepth.dev/webpack-5-module-federation-a-game-changer-in-javascript-architecture/%23its-important-to-note-these-are-special-entry-points-they-are-only-a-few-kb-in-size-containing-a-special-webpack-runtime-that-can-interface-with-the-host-it-is-not-a-standard-entry-point--7/" target="_blank" rel="noopener noreferrer">webpack-5-module-federation-a-game-changer-in-javascript-architecture<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è¿™ç¯‡æ–‡ç« äº†è§£ä»€ä¹ˆæ˜¯ â€œæ¨¡å—è”é‚¦â€ åŠŸèƒ½ã€‚</p><p>åŸçŸ¥ä¹é“¾æ¥ï¼šhttps://zhuanlan.zhihu.com/p/115403616</p><h4 id="ä½¿ç”¨æ¨¡å—è”é‚¦" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ¨¡å—è”é‚¦"><span>ä½¿ç”¨æ¨¡å—è”é‚¦</span></a></h4><p>æ¨¡å—è”é‚¦æœ¬èº«æ˜¯ä¸€ä¸ªæ™®é€šçš„ Webpack æ’ä»¶ <code>ModuleFederationPlugin</code>ï¼Œæ’ä»¶æœ‰å‡ ä¸ªé‡è¦å‚æ•°ï¼š</p><p><code>name</code> å½“å‰åº”ç”¨åç§°ï¼Œéœ€è¦å…¨å±€å”¯ä¸€ã€‚</p><p><code>remotes</code> å¯ä»¥å°†å…¶ä»–é¡¹ç›®çš„ <code>name</code> æ˜ å°„åˆ°å½“å‰é¡¹ç›®ä¸­ã€‚</p><p><code>exposes</code> è¡¨ç¤ºå¯¼å‡ºçš„æ¨¡å—ï¼Œåªæœ‰åœ¨æ­¤ç”³æ˜çš„æ¨¡å—æ‰å¯ä»¥ä½œä¸ºè¿œç¨‹ä¾èµ–è¢«ä½¿ç”¨ã€‚</p><p><code>shared</code> æ˜¯éå¸¸é‡è¦çš„å‚æ•°ï¼Œåˆ¶å®šäº†è¿™ä¸ªå‚æ•°ï¼Œå¯ä»¥è®©è¿œç¨‹åŠ è½½çš„æ¨¡å—å¯¹åº”ä¾èµ–æ”¹ä¸ºä½¿ç”¨æœ¬åœ°é¡¹ç›®çš„ React æˆ– ReactDOMã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ModuleFederationPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>container
module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token operator">...</span>
        <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;nav&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;remoteEntry.js&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">remote</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">app_two</span><span class="token operator">:</span> <span class="token string">&quot;app_two_remote&quot;</span><span class="token punctuation">,</span>
        		<span class="token literal-property property">app_three</span><span class="token operator">:</span> <span class="token string">&quot;app_three_remote&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">exposes</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">AppContainer</span><span class="token operator">:</span> <span class="token string">&quot;./src/App&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">shared</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯”å¦‚è®¾ç½®äº† <code>remotes: { app_tw0: &quot;app_two_remote&quot; }</code>ï¼Œåœ¨ä»£ç ä¸­å°±å¯ä»¥ç›´æ¥åˆ©ç”¨ä»¥ä¸‹æ–¹å¼ç›´æ¥ä»å¯¹æ–¹åº”ç”¨è°ƒç”¨æ¨¡å—ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Search <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;app_two/Search&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ª <code>app_two/Search</code> æ¥è‡ªäº <code>app_two</code> çš„é…ç½®ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// app_two çš„ webpack é…ç½®</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;app_two&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;var&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;app_two&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;remoteEntry.js&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exposes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">Search</span><span class="token operator">:</span> <span class="token string">&quot;./src/Search&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">shared</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£æ˜¯å› ä¸º <code>Search</code> åœ¨ <code>exposes</code> è¢«å¯¼å‡ºï¼Œæˆ‘ä»¬å› æ­¤å¯ä»¥ä½¿ç”¨ <code>[name]/[exposes_name]</code> è¿™ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—å¯¹äºè¢«å¼•ç”¨åº”ç”¨æ¥è¯´æ˜¯ä¸€ä¸ªæœ¬åœ°æ¨¡å—ã€‚</p><h3 id="_7-11-é€šç”¨æ„å»ºä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_7-11-é€šç”¨æ„å»ºä¼˜åŒ–"><span>7.11 é€šç”¨æ„å»ºä¼˜åŒ–</span></a></h3><h4 id="é€šç”¨ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#é€šç”¨ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½"><span>é€šç”¨ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½</span></a></h4><p>å°†webpackå’ŒnodeJsæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</p><p>å°†loaderåº”ç”¨äºæœ€å°‘æ•°é‡çš„å¿…è¦æ¨¡å—</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">include</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__diranme<span class="token punctuation">,</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// åªè§£æsrcç›®å½•ä¸‹çš„æ–‡ä»¶</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;babel-loader&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¼•å¯¼-boostrap" tabindex="-1"><a class="header-anchor" href="#å¼•å¯¼-boostrap"><span>å¼•å¯¼ï¼ˆboostrapï¼‰</span></a></h4><p>æ¯ä¸ªé¢å¤–çš„ loader/plugin éƒ½æœ‰å…¶å¯åŠ¨æ—¶é—´ï¼Œå°½é‡å°‘åœ°ä½¿ç”¨å·¥å…·</p><h4 id="æé«˜è§£æé€Ÿåº¦" tabindex="-1"><a class="header-anchor" href="#æé«˜è§£æé€Ÿåº¦"><span>æé«˜è§£æé€Ÿåº¦</span></a></h4><ul><li><p>å‡å°‘resolve.modulesã€resolve.extensionsã€resolve.mainFilesã€resolve.descriptionFiles ä¸­æ¡ç›®æ•°é‡ï¼Œå› ä¸ºä»–ä»¬ä¼šå¢åŠ æ–‡ä»¶ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°</p></li><li><p>å¦‚æœä¸é€‚ç”¨symlinksï¼ˆä¾‹å¦‚ npm link æˆ– yarn linkï¼‰ï¼Œå¯ä»¥è®¾ç½®resolve.symlinks: false</p></li><li><p>å¦‚æœä½ ä½¿ç”¨è‡ªå¯¹åº”resolve plugin è§„åˆ™ï¼Œå¹¶ä¸”æ²¡æœ‰æŒ‡å®šcontext ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥è®¾ç½® resolve.cacheWithContext: false</p></li></ul><h4 id="å°å³æ˜¯å¿«" tabindex="-1"><a class="header-anchor" href="#å°å³æ˜¯å¿«"><span>å°å³æ˜¯å¿«</span></a></h4><p>å‡å°‘ç¼–è¯‘ç»“æœçš„æ•´ä½“å¤§å°ï¼Œä»¥æé«˜æ„å»ºæ€§èƒ½ã€‚å°½é‡ä¿æŒchunkä½“ç§¯å°</p><ul><li><p>ä½¿ç”¨æ•°é‡æ›´å°‘/ä½“ç§¯æ›´å°çš„ library</p></li><li><p>åœ¨å¤šé¡µé¢åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ SplitChunksPluginï¼Œå¹¶å¼€å¯asyncæ¨¡å¼</p></li><li><p>ç§»é™¤æœªå¼•ç”¨ä»£ç </p></li><li><p>åªç¼–è¯‘å½“å‰æ­£åœ¨å¼€å‘çš„ä»£ç </p></li></ul><h4 id="æŒä¹…åŒ–ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#æŒä¹…åŒ–ç¼“å­˜"><span>æŒä¹…åŒ–ç¼“å­˜</span></a></h4><p>åœ¨webpack é…ç½®ä¸­ä½¿ç”¨ cache é€‰é¡¹ã€‚ä½¿ç”¨ package.json ä¸­çš„postinstall æ¸…é™¤ç¼“å­˜ç›®å½•ã€‚</p><p>å°† cache ç±»å‹è®¾ç½®ä¸ºå†…å­˜æˆ–è€…æ–‡ä»¶ç³»ç»Ÿã€‚memory é€‰é¡¹å¾ˆç®€å•ï¼Œå®ƒå‘Šè¯‰ webpack åœ¨å†…å­˜ä¸­å­˜å‚¨ç¼“å­˜ï¼Œä¸å…è®¸é¢å¤–çš„é…ç½®ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token comment">//</span>
	<span class="token literal-property property">cache</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">&#39;memory&#39;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è‡ªå®šä¹‰-plugin-loader" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰-plugin-loader"><span>è‡ªå®šä¹‰ plugin/loader</span></a></h4><p>å¯¹å®ƒä»¬è¿›è¡Œæ¦‚è¦åˆ†æï¼Œä»¥å…åœ¨æ­¤å¤„å¼•å…¥æ€§èƒ½é—®é¢˜</p><h4 id="progress-plugin" tabindex="-1"><a class="header-anchor" href="#progress-plugin"><span>progress plugin</span></a></h4><p>å°† ProgressPlugin ä» webpack ä¸­åˆ é™¤ï¼Œå¯ä»¥ç¼©çŸ­ä¸€å®šçš„æ„å»ºæ—¶é—´</p><h4 id="dll" tabindex="-1"><a class="header-anchor" href="#dll"><span>dll</span></a></h4><p>ä½¿ç”¨ DllPlugin ä¸ºæ›´æ”¹ä¸é¢‘ç¹çš„ä»£ç ç”Ÿæˆå•ç‹¬çš„ç¼–è¯‘ç»“æœã€‚è¿™å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„ç¼–è¯‘é€Ÿåº¦ï¼Œå°½ç®¡å®ƒå¢åŠ äº†æ„å»ºè¿‡ç¨‹çš„å¤æ‚åº¦ã€‚</p><p>åœ¨æ ¹ç›®å½•ä¸­æ–°å»ºwebpack.dll.config.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;jquery&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dll&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span><span class="token string">&#39;[name]_[hash]&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;[name]_[hash]&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;dll/manifest.json&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¹¶åœ¨package.json ä¸­å®šä¹‰è„šæœ¬</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;dll&quot;</span><span class="token operator">:</span><span class="token string">&quot;webpack --config ./webpack.dll.config.js&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£… add-asset-html-webpack-plugin å¹¶åœ¨webpack.conig.js ä¸­é…ç½®</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> add-asset-html-webpack-plugin <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> AddAssetHtmlPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;add-asset-html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span><span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">mainfest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./dll/manifest.json&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">filepath</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./dll/jquery.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&#39;./&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="worker-æ± -worker-pool" tabindex="-1"><a class="header-anchor" href="#worker-æ± -worker-pool"><span>worker æ± ï¼ˆworker poolï¼‰</span></a></h4><p>thread-loader å¯ä»¥å°†éå¸¸æ¶ˆè€—èµ„æºçš„loaderåˆ†æµç»™ä¸€ä¸ª worker pool</p><p>å®‰è£…ç›¸å…³æ’ä»¶</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> thread-loader babel-loader @babel/core @babel/preset-env <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®webpack.config.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				<span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
							<span class="token literal-property property">presets</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;thread-loader&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">workers</span><span class="token operator">:</span><span class="token number">2</span> <span class="token comment">// è°ƒç”¨CPUæ ¸å¿ƒæ•°</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
				<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-12-å¼€å‘ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#_7-12-å¼€å‘ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½"><span>7.12 å¼€å‘ç¯å¢ƒæå‡æ„å»ºæ€§èƒ½</span></a></h3><h4 id="å¢é‡ç¼–è¯‘" tabindex="-1"><a class="header-anchor" href="#å¢é‡ç¼–è¯‘"><span>å¢é‡ç¼–è¯‘</span></a></h4><p>ä½¿ç”¨webpackçš„ watch modeï¼ˆç›‘å¬æ¨¡å¼ï¼‰ã€‚è€Œä¸ä½¿ç”¨å…¶ä»–å·¥å…·æ¥watchæ–‡ä»¶å’Œè°ƒç”¨webpackã€‚å†…ç½®çš„watch mode ä¼šè®°å½•æ—¶é—´æˆ³å¹¶å°†æ­¤ä¿¡æ¯ä¼ é€’ç»™ compilation ä»¥ä½¿ç¼“å­˜å¤±æ•ˆã€‚</p><p>åœ¨æŸäº›é…ç½®ç¯å¢ƒä¸­ï¼Œwatch mode ä¼šå›é€€åˆ° pull mode ï¼ˆè½®è¯¢æ¨¡å¼ï¼‰ã€‚ç›‘å¬è®¸å¤šæ–‡ä»¶ä¼šå¯¼è‡´ CPU å¤§é‡è´Ÿè½½ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ watchOptions.poll æ¥å¢åŠ è½®è¯¢çš„é—´éš”ã€‚</p><h4 id="åœ¨å†…å­˜ä¸­ç¼–è¯‘" tabindex="-1"><a class="header-anchor" href="#åœ¨å†…å­˜ä¸­ç¼–è¯‘"><span>åœ¨å†…å­˜ä¸­ç¼–è¯‘</span></a></h4><p>ä¸‹é¢å‡ ä¸ªå·¥å…·é€šè¿‡åœ¨å†…å­˜ä¸­ï¼ˆè€Œä¸æ˜¯å†™å…¥ç£ç›˜ï¼‰ç¼–è¯‘å’Œ serve èµ„æºæ¥æé«˜æ€§èƒ½ï¼š</p><ul><li><p>webpack-dev-server</p></li><li><p>webpack-hot-middleware</p></li><li><p>webpack-dev-middleware</p></li></ul><h4 id="stats-tojsonåŠ é€Ÿ" tabindex="-1"><a class="header-anchor" href="#stats-tojsonåŠ é€Ÿ"><span>stats.toJsonåŠ é€Ÿ</span></a></h4><p>webpack 4 é»˜è®¤ä½¿ç”¨ stats.toJson() è¾“å‡ºå¤§é‡æ•°æ®ã€‚é™¤éåœ¨å¢é‡æ­¥éª¤ä¸­åšå¿…è¦ç»Ÿè®¡ï¼Œå¦åˆ™è¯·é¿å…è·å– stats å¯¹è±¡çš„éƒ¨åˆ†å†…å®¹ã€‚</p><p>webpack-dev-server åœ¨ v3.1.3 ä»¥åçš„ç‰ˆæœ¬ï¼ŒåŒ…å«ä¸€ä¸ªé‡è¦çš„æ€§èƒ½ä¿®å¤ï¼Œå³æœ€å°åŒ–æ¯ä¸ªå¢é‡æ„å»ºæ­¥éª¤ä¸­ï¼Œä»statså¯¹è±¡è·å–æ•°æ®é‡</p><h4 id="devtool" tabindex="-1"><a class="header-anchor" href="#devtool"><span>Devtool</span></a></h4><p>æ³¨æ„ï¼šä¸åŒçš„ devtool è®¾ç½®ä¼šå¯¼è‡´æ€§èƒ½å·®å¼‚</p><ul><li><p>â€œevalâ€ å…·æœ‰æœ€å¥½çš„æ€§èƒ½ï¼Œä½†å¹¶ä¸èƒ½è½¬è¯‘ä»£ç </p></li><li><p>å¦‚æœæ¥å—ç¨å·®çš„ map è´¨é‡ï¼Œå¯ä»¥ä½¿ç”¨ cheap-source-map å˜ä½“é…ç½®è¿›è¡Œå¢é‡ç¼–è¯‘</p></li><li><p>ä½¿ç”¨ eval-source-map å˜ä½“é…ç½®è¿›è¡Œå¢é‡ç¼–è¯‘</p></li></ul><p>åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œæœ€ä½³é€‰æ‹©ä»æ˜¯ eval-cheap-module-source-map</p><h4 id="é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒæ‰ç”¨åˆ°çš„å·¥å…·" tabindex="-1"><a class="header-anchor" href="#é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒæ‰ç”¨åˆ°çš„å·¥å…·"><span>é¿å…åœ¨ç”Ÿäº§ç¯å¢ƒæ‰ç”¨åˆ°çš„å·¥å…·</span></a></h4><p>æŸäº› utility, plugin å’Œ loader éƒ½åªç”¨äºç”Ÿäº§ç¯å¢ƒã€‚ä¾‹å¦‚ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨TerserPlugin æ¥ minify(å‹ç¼©) å’Œ mangle(æ··æ·†ç ´å) ä»£ç æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚é€šå¸¸åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œåº”è¯¥æ’é™¤ä»¥ä¸‹è¿™äº›å·¥å…·ï¸°</p><ul><li><p>TerserPlugin</p></li><li><p>[fullhash]/[chunkhash]/[contenthash]</p></li><li><p>AggressiveSplittingPlugin</p></li><li><p>AggressiveMergingPlugin</p></li><li><p>ModuleConcatenationPlugin</p></li></ul><h4 id="æœ€å°åŒ–entry-chunk" tabindex="-1"><a class="header-anchor" href="#æœ€å°åŒ–entry-chunk"><span>æœ€å°åŒ–entry chunk</span></a></h4><p>Webpack åªä¼šåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­è¾“å‡ºå·²ç»æ›´æ–°çš„ chunkã€‚æŸäº›é…ç½®é€‰é¡¹(HMR, output.chunkFilenameçš„[name]/[chunkhash]/[contenthash]ï¼Œ[fullhash])æ¥è¯´ï¼Œé™¤äº†å¯¹å·²ç»æ›´æ–°çš„chunkæ— æ•ˆä¹‹å¤–ï¼Œå¯¹äºentry chunk ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚ ç¡®ä¿åœ¨ç”Ÿæˆentry chunkæ—¶ï¼Œå°½é‡å‡å°‘å…¶ä½“ç§¯ä»¥æé«˜æ€§èƒ½ã€‚ä¸‹é¢çš„é…ç½®ä¸ºè¿è¡Œæ—¶ä»£ç åˆ›å»ºäº†ä¸€ä¸ªé¢å¤–çš„chunkï¼Œæ‰€ä»¥å®ƒçš„ç”Ÿæˆä»£ä»·è¾ƒä½:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
	<span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é¿å…é¢å¤–çš„ä¼˜åŒ–æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#é¿å…é¢å¤–çš„ä¼˜åŒ–æ­¥éª¤"><span>é¿å…é¢å¤–çš„ä¼˜åŒ–æ­¥éª¤</span></a></h4><p>Webpacké€šè¿‡æ‰§è¡Œé¢å¤–çš„ç®—æ³•ä»»åŠ¡ï¼Œæ¥ä¼˜åŒ–è¾“å‡ºç»“æœçš„ä½“ç§¯å’ŒåŠ è½½æ€§èƒ½ã€‚è¿™äº›ä¼˜åŒ–é€‚ç”¨äºå°å‹ä»£ç åº“ï¼Œä½†æ˜¯åœ¨å¤§å‹ä»£ç åº“ä¸­å´éå¸¸è€—è´¹æ€§èƒ½:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">optimization</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">removeAvailableModules</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">removeEmptyChunks</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">splitChunks</span><span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è¾“å‡ºç»“æœä¸æºå¸¦è·¯å¾„ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è¾“å‡ºç»“æœä¸æºå¸¦è·¯å¾„ä¿¡æ¯"><span>è¾“å‡ºç»“æœä¸æºå¸¦è·¯å¾„ä¿¡æ¯</span></a></h4><p>Webpack ä¼šåœ¨è¾“å‡ºçš„bundle ä¸­ç”Ÿæˆè·¯å¾„ä¿¡æ¯ã€‚ç„¶è€Œï¼Œåœ¨æ‰“åŒ…æ•°åƒä¸ªæ¨¡å—çš„é¡¹ç›®ä¸­ï¼Œè¿™ä¼šå¯¼è‡´é€ æˆåƒåœ¾å›æ”¶æ€§èƒ½å‹åŠ›ã€‚åœ¨ options.output.pathinfo è®¾ç½®ä¸­å…³é—­ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token literal-property property">pathinfo</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>ï¼Œ
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="node-jsç‰ˆæœ¬8-9-10-9-11-1" tabindex="-1"><a class="header-anchor" href="#node-jsç‰ˆæœ¬8-9-10-9-11-1"><span>Node.jsç‰ˆæœ¬8.9.10-9.11.1</span></a></h4><p>Node.js v8.9.10- v9.11.1ä¸­çš„ES2015 Map å’Œ Set å®ç°ï¼Œå­˜åœ¨æ€§èƒ½å›é€€ã€‚Webpackå¤§é‡åœ°ä½¿ç”¨è¿™äº›æ•°æ®ç»“æ„ï¼Œå› æ­¤è¿™æ¬¡å›é€€ä¹Ÿä¼šå½±å“ç¼–è¯‘æ—¶é—´ã€‚ ä¹‹å‰å’Œä¹‹åçš„Node.jsç‰ˆæœ¬ä¸å—å½±å“ã€‚</p><h4 id="typescript-loader" tabindex="-1"><a class="header-anchor" href="#typescript-loader"><span>TypeScript Loader</span></a></h4><p>ä½ å¯ä»¥ä¸ºloaderä¼ å…¥transpileOnlyé€‰é¡¹ï¼Œä»¥ç¼©çŸ­ä½¿ç”¨ts-loaderæ—¶çš„æ„å»ºæ—¶é—´ã€‚ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œä¼šå…³é—­ç±»å‹æ£€æŸ¥ã€‚å¦‚æœè¦å†æ¬¡å¼€å¯ç±»å‹æ£€æŸ¥ï¼Œè¯·ä½¿ç”¨ForkTsCheckerWebpackPluginã€‚ä½¿ç”¨æ­¤æ’ä»¶ä¼šå°†æ£€æŸ¥è¿‡ç¨‹ç§»è‡³å•ç‹¬çš„è¿›ç¨‹ï¼Œå¯ä»¥åŠ å¿«TypeScript çš„ç±»å‹æ£€æŸ¥å’ŒESLint æ’å…¥çš„é€Ÿåº¦ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token punctuation">.</span>tsx<span class="token operator">?</span>$<span class="token operator">/</span><span class="token punctuation">,</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;ts-loader &quot;</span> <span class="token punctuation">,</span>
    		<span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            	<span class="token literal-property property">transpileonly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>ï¼Œ
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a href="https://github.com/NightSquirrl/what-tools-blog/edit/main/src/web/webpack/webpack.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link vp-meta-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: w1083670160@163.com">yuxiaozhuang</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/web/webpack/Webpack_React.html" aria-label="ğŸ§ Webpack + React"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ğŸ§ Webpack + React</div></a><!----></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-jzX7c5DY.js" defer></script>
  </body>
</html>
