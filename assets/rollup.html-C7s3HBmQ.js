import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as p,c as o,b as n,d as l,e as i,a as s}from"./app-jzX7c5DY.js";const c={},r=s(`<h1 id="rollup-ä½¿ç”¨æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#rollup-ä½¿ç”¨æ¡ˆä¾‹"><span>rollup ä½¿ç”¨æ¡ˆä¾‹</span></a></h1><h2 id="åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–"><span>åˆå§‹åŒ–</span></a></h2><h3 id="ä¾èµ–å®‰è£…" tabindex="-1"><a class="header-anchor" href="#ä¾èµ–å®‰è£…"><span>ä¾èµ–å®‰è£…</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>yarn init <span class="token operator">-</span>y
yarn add rollup
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶"><span>é…ç½®æ–‡ä»¶</span></a></h3><p><code>rollup.config.js</code></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">export</span>  <span class="token keyword">default</span>  <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span> <span class="token operator">:</span><span class="token string">&quot;src/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">file</span><span class="token operator">:</span><span class="token string">&quot;dist/bundle.js&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span><span class="token string">&quot;iife&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨"><span>å¯åŠ¨</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">yarn</span> rollup <span class="token parameter variable">--config</span> rollup.config.js

<span class="token comment">#æŠ¥é”™</span>

<span class="token function">yarn</span> rollup <span class="token parameter variable">--config</span> rollup.config.js <span class="token parameter variable">--bundleConfigAsCjs</span>

or

fix package.json <span class="token function">add</span>    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;module&quot;</span>, 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶"><span>æ’ä»¶</span></a></h2><blockquote><p>é»˜è®¤åªèƒ½å¤Ÿå¤„ç† ESModule</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> rollup-plugin-json <span class="token comment"># ç”¨äºå¯¼å…¥ JSON å…µ tree-shakinng</span>
<span class="token function">yarn</span> <span class="token function">add</span> rollup-plugin-node-resolve <span class="token comment">#å…è®¸åŠ è½½ç¬¬ä¸‰æ–¹çš„æ¨¡å—</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŠ è½½-commonjs-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#åŠ è½½-commonjs-æ¨¡å—"><span>åŠ è½½ CommonJS æ¨¡å—</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> rollup-plugin-commonjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ä»£ç æ‹†åˆ†" tabindex="-1"><a class="header-anchor" href="#ä»£ç æ‹†åˆ†"><span>ä»£ç æ‹†åˆ†</span></a></h2><p>åŠ¨æ€å¯¼å…¥</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./logger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>log<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;code split&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>rollup.config.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-json&quot;</span>
<span class="token keyword">import</span> nodeResolve <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-node-resolve&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-commonjs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span>  <span class="token keyword">default</span>  <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span> <span class="token operator">:</span><span class="token string">&quot;src/index.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// file:&quot;dist/bundle.js&quot;,</span>
        <span class="token literal-property property">dir</span><span class="token operator">:</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span><span class="token string">&quot;amd&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">nodeResolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¤šå…¥å£æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#å¤šå…¥å£æ‰“åŒ…"><span>å¤šå…¥å£æ‰“åŒ…</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-json&quot;</span>
<span class="token keyword">import</span> nodeResolve <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-node-resolve&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> commonjs <span class="token keyword">from</span> <span class="token string">&quot;rollup-plugin-commonjs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span>  <span class="token keyword">default</span>  <span class="token punctuation">{</span>
    <span class="token literal-property property">input</span> <span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;src/xxx.js&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;src/.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// file:&quot;dist/bundle.js&quot;,</span>
        <span class="token literal-property property">dir</span><span class="token operator">:</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">format</span><span class="token operator">:</span><span class="token string">&quot;amd&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">nodeResolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">commonjs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="å°è£…æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#å°è£…æ¡ˆä¾‹"><span>å°è£…æ¡ˆä¾‹</span></a></h1><blockquote><p>ç»„ä»¶å°è£…æ¨¡ç‰ˆ</p></blockquote>`,23),u={href:"https://github.com/NightSquirrl/drop-upload-react",target:"_blank",rel:"noopener noreferrer"},d=s(`<h2 id="åˆå§‹åŒ–-1" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–-1"><span>åˆå§‹åŒ–</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> init vite@latest

<span class="token comment"># éœ€è¦çš„ä¾èµ–</span>
<span class="token string">&quot;@rollup/plugin-typescript&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^11.1.2&quot;</span>,
<span class="token string">&quot;rollup-plugin-babel&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^4.4.0&quot;</span>,
<span class="token string">&quot;@rollup/plugin-babel&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^6.0.3&quot;</span>,
<span class="token string">&quot;@rollup/plugin-commonjs&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^25.0.3&quot;</span>,
<span class="token string">&quot;@rollup/plugin-node-resolve&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^15.1.0&quot;</span>,
<span class="token string">&quot;typescript&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^5.0.2&quot;</span>,
<span class="token string">&quot;rollup&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^2.79.1&quot;</span>,
<span class="token string">&quot;rollup-plugin-auto-external&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^2.0.0&quot;</span>,
<span class="token string">&quot;rollup-plugin-copy&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^3.4.0&quot;</span>,
<span class="token string">&quot;rollup-plugin-peer-deps-external&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^2.2.4&quot;</span>,
<span class="token string">&quot;rollup-plugin-postcss&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^4.0.2&quot;</span>,
<span class="token string">&quot;sass&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^1.64.1&quot;</span>,
<span class="token string">&quot;tslib&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^2.6.1&quot;</span>,
<span class="token string">&quot;@babel/core&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^7.22.17&quot;</span>,
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äº UI ç»„ä»¶çš„å°è£…,ç›´æ¥å¤åˆ¶ rollup æ–‡ä»¶å¤¹,åªéœ€è¦ä¿®æ”¹ types é‡Œé¢çš„å¼•å…¥æ—¢å¯ æ‰“åŒ…å‘½ä»¤ <code> &quot;build:lib&quot;: &quot;rimraf dist &amp;&amp; npx rollup -c rollup/rollup.config.js&quot;</code></p><p>æœ¬åœ°æµ‹è¯•: å…ˆè¿›è¡Œæ‰“åŒ…,ç„¶åå°†æ‰“åŒ…åçš„æ–‡ä»¶ dist ä¿®æ”¹ä¸ºä»»æ„çš„åç§° xxx,ç„¶åè¿›å…¥åˆ°è¯¥ç›®å½•,æ‰§è¡Œ npm link,æ­¤æ—¶ä¼šå°†è¯¥åŒ…æ·»åŠ åˆ°å…¨å±€,åœ¨éœ€è¦ä½¿ç”¨çš„é¡¹ç›®ä¸­é€šè¿‡ npm link xxx</p>`,4);function k(m,v){const a=t("ExternalLinkIcon");return p(),o("div",null,[r,n("p",null,[n("a",u,[l("é¡¹ç›®åœ°å€"),i(a)])]),d])}const h=e(c,[["render",k],["__file","rollup.html.vue"]]),q=JSON.parse('{"path":"/web/componentPackaging/rollup.html","title":"ğŸƒ rollup å¿«é€Ÿä¸Šæ‰‹","lang":"zh-CN","frontmatter":{"title":"ğŸƒ rollup å¿«é€Ÿä¸Šæ‰‹","tag":["å‰ç«¯","rollup"],"description":"rollup ä½¿ç”¨æ¡ˆä¾‹ åˆå§‹åŒ– ä¾èµ–å®‰è£… é…ç½®æ–‡ä»¶ rollup.config.js å¯åŠ¨ æ’ä»¶ é»˜è®¤åªèƒ½å¤Ÿå¤„ç† ESModule åŠ è½½ CommonJS æ¨¡å— ä»£ç æ‹†åˆ† åŠ¨æ€å¯¼å…¥ rollup.config.js å¤šå…¥å£æ‰“åŒ… å°è£…æ¡ˆä¾‹ ç»„ä»¶å°è£…æ¨¡ç‰ˆ é¡¹ç›®åœ°å€ åˆå§‹åŒ– å¯¹äº UI ç»„ä»¶çš„å°è£…,ç›´æ¥å¤åˆ¶ rollup æ–‡ä»¶å¤¹,åªéœ€è¦ä¿®æ”¹ types é‡Œé¢...","head":[["meta",{"property":"og:url","content":"https://soft-vault.com/web/componentPackaging/rollup.html"}],["meta",{"property":"og:site_name","content":"Night.Soul"}],["meta",{"property":"og:title","content":"ğŸƒ rollup å¿«é€Ÿä¸Šæ‰‹"}],["meta",{"property":"og:description","content":"rollup ä½¿ç”¨æ¡ˆä¾‹ åˆå§‹åŒ– ä¾èµ–å®‰è£… é…ç½®æ–‡ä»¶ rollup.config.js å¯åŠ¨ æ’ä»¶ é»˜è®¤åªèƒ½å¤Ÿå¤„ç† ESModule åŠ è½½ CommonJS æ¨¡å— ä»£ç æ‹†åˆ† åŠ¨æ€å¯¼å…¥ rollup.config.js å¤šå…¥å£æ‰“åŒ… å°è£…æ¡ˆä¾‹ ç»„ä»¶å°è£…æ¨¡ç‰ˆ é¡¹ç›®åœ°å€ åˆå§‹åŒ– å¯¹äº UI ç»„ä»¶çš„å°è£…,ç›´æ¥å¤åˆ¶ rollup æ–‡ä»¶å¤¹,åªéœ€è¦ä¿®æ”¹ types é‡Œé¢..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-11T16:41:41.000Z"}],["meta",{"property":"article:author","content":"Night.Soul"}],["meta",{"property":"article:tag","content":"å‰ç«¯"}],["meta",{"property":"article:tag","content":"rollup"}],["meta",{"property":"article:modified_time","content":"2024-05-11T16:41:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ğŸƒ rollup å¿«é€Ÿä¸Šæ‰‹\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-05-11T16:41:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Night.Soul\\",\\"url\\":\\"https://github.com/NightSquirrl\\"}]}"]]},"headers":[{"level":2,"title":"åˆå§‹åŒ–","slug":"åˆå§‹åŒ–","link":"#åˆå§‹åŒ–","children":[{"level":3,"title":"ä¾èµ–å®‰è£…","slug":"ä¾èµ–å®‰è£…","link":"#ä¾èµ–å®‰è£…","children":[]},{"level":3,"title":"é…ç½®æ–‡ä»¶","slug":"é…ç½®æ–‡ä»¶","link":"#é…ç½®æ–‡ä»¶","children":[]},{"level":3,"title":"å¯åŠ¨","slug":"å¯åŠ¨","link":"#å¯åŠ¨","children":[]}]},{"level":2,"title":"æ’ä»¶","slug":"æ’ä»¶","link":"#æ’ä»¶","children":[]},{"level":2,"title":"åŠ è½½ CommonJS æ¨¡å—","slug":"åŠ è½½-commonjs-æ¨¡å—","link":"#åŠ è½½-commonjs-æ¨¡å—","children":[]},{"level":2,"title":"ä»£ç æ‹†åˆ†","slug":"ä»£ç æ‹†åˆ†","link":"#ä»£ç æ‹†åˆ†","children":[]},{"level":2,"title":"å¤šå…¥å£æ‰“åŒ…","slug":"å¤šå…¥å£æ‰“åŒ…","link":"#å¤šå…¥å£æ‰“åŒ…","children":[]},{"level":2,"title":"åˆå§‹åŒ–","slug":"åˆå§‹åŒ–-1","link":"#åˆå§‹åŒ–-1","children":[]}],"git":{"createdTime":1699094106000,"updatedTime":1715445701000,"contributors":[{"name":"nightsoul","email":"w1083670160@163.com","commits":1}]},"readingTime":{"minutes":1.34,"words":401},"filePathRelative":"web/componentPackaging/rollup.md","localizedDate":"2023å¹´11æœˆ4æ—¥","excerpt":"\\n<h2>åˆå§‹åŒ–</h2>\\n<h3>ä¾èµ–å®‰è£…</h3>\\n<div class=\\"language-javascript\\" data-ext=\\"js\\" data-title=\\"js\\"><pre class=\\"language-javascript\\"><code>yarn init <span class=\\"token operator\\">-</span>y\\nyarn add rollup\\n</code></pre></div><h3>é…ç½®æ–‡ä»¶</h3>\\n<p><code>rollup.config.js</code></p>\\n<div class=\\"language-javascript\\" data-ext=\\"js\\" data-title=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token keyword\\">export</span>  <span class=\\"token keyword\\">default</span>  <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token literal-property property\\">input</span> <span class=\\"token operator\\">:</span><span class=\\"token string\\">\\"src/index.js\\"</span><span class=\\"token punctuation\\">,</span>\\n    <span class=\\"token literal-property property\\">output</span><span class=\\"token operator\\">:</span><span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token literal-property property\\">file</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">\\"dist/bundle.js\\"</span><span class=\\"token punctuation\\">,</span>\\n        <span class=\\"token literal-property property\\">format</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">\\"iife\\"</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n</code></pre></div>","autoDesc":true}');export{h as comp,q as data};
